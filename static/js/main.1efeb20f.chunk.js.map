{"version":3,"sources":["app/logged-out/LoggedOutShared.module.scss","app/common/components/language-select/LanguageSelect.module.scss","app/common/components/sw-update-notification/ServiceWorkerUpdateNotification.module.scss","assets/svg/spinner.svg","app/common/components/spinner/Spinner.tsx","app/common/components/button/Button.tsx","app/common/components/form/Field.tsx","app/common/components/form/Label.tsx","app/common/components/input/Input.tsx","app/core/configs/constants.config.ts","app/core/models/styles.model.ts","app/core/configs/i18n.config.ts","app/core/configs/storage.config.ts","app/core/configs/ConfigProvider.tsx","app/common/machines/fetchMachine.ts","app/core/api/api.ts","app/core/api/defaultJsonInterceptor.ts","app/core/api/ApiProvider.tsx","app/core/api/services/authService.ts","app/core/api/services/ApiServicesProvider.tsx","app/common/utils/browser.util.ts","app/core/auth/authMachine.ts","app/core/auth/AuthMachineProvider.tsx","app/logged-out/login/login.types.ts","app/logged-out/login/loginMachine.ts","app/logged-out/login/useLoginCard.ts","app/logged-out/login/LoginCard.tsx","app/core/providers/ThemeProvider.tsx","app/common/components/select/Select.tsx","app/common/components/language-select/LanguageSelect.tsx","app/common/components/switch/Switch.tsx","app/common/components/theme-switch/ThemeSwitch.tsx","app/logged-out/LoggedOutPage.tsx","app/logged-in/LoggedInPage.tsx","app/core/providers/ServiceWorkerUpdateProvider.tsx","app/common/components/notification/notification.types.ts","app/common/components/link-button/LinkButton.tsx","app/common/components/icon-button/IconButton.tsx","app/common/components/notification/Notification.tsx","app/common/hooks/useTimeout.ts","app/common/components/notification/NotificationManager.tsx","app/common/components/notification/NotificationProvider.tsx","app/common/components/sw-update-notification/ServiceWorkerUpdateNotification.tsx","app/App.tsx","serviceWorkerRegistration.ts","reportWebVitals.ts","index.tsx","app/core/i18n/i18nFormat.ts","app/core/i18n/I18nProvider.tsx","app/core/providers/GlobalProviders.tsx","app/logged-out/login/LoginCard.module.scss","app/logged-out/LoggedOutPage.module.scss","app/common/components/theme-switch/ThemeSwitch.module.scss","app/common/components/notification/notification.module.scss"],"names":["module","exports","_g","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgSpinner","_ref","svgRef","title","titleId","props","width","height","viewBox","xmlns","stroke","ref","id","fill","fillRule","transform","strokeWidth","strokeOpacity","cx","cy","r","d","attributeName","type","from","to","dur","repeatCount","SpinnerColorVariant","ForwardRef","Spinner","color","isAlert","className","t","useTranslation","aria-busy","aria-live","classNames","aria-hidden","Button","children","disabled","isLoading","size","Field","Label","Input","ColorVariant","ControlSize","constants","defaultInputMaxLength","dateLocales","en","enGB","enUS","pt","ptPT","i18nConfig","localStorageKey","fallbackLanguage","fallbackDateLocale","supportedLanguages","code","name","storageKeys","theme","authToken","ConfigContext","createContext","undefined","ConfigProvider","config","currentConfig","useMemo","Provider","value","useConfig","context","useContext","Error","FetchMachineEventType","FetchMachineStateValue","ajaxRequest","data","ajax","pipe","map","response","right","status","body","catchError","error","of","left","applyInterceptors","interceptors","reduceRight","previousInterceptor","currentInterceptor","defaultJsonInterceptor","request","next","responseType","headers","ApiContext","ApiProvider","apiClient","get","url","method","post","put","patch","delete","createApiClient","createAuthService","api","login","user","apiPath","ApiServicesContext","ApiServicesProvider","useApiClient","services","authService","AuthMachineEventType","AuthMachineStateValue","getFromLocalStorage","getFromStorage","localStorage","saveToLocalStorage","item","saveToStorage","storage","serializedItem","getItem","JSON","parse","stringify","setItem","AuthMachineContext","AuthMachineProvider","service","authMachine","createMachine","initial","CheckingIfLoggedIn","states","on","CheckIfLoggedIn","LoggedIn","cond","Boolean","LoggedOut","entry","send","Logout","actions","removeItem","Login","_","event","createAuthMachine","useMachine","devTools","process","defaultService","useAuthMachine","useService","LoginError","createLoginMachine","assignData","assignError","clearError","Idle","Fetch","Pending","ReceiveDataSuccess","Success","ReceiveDataFailure","Failure","invoke","src","fetcher","onError","createFetchMachine","token","E","Invalid","Unexpected","useLoginCard","sendAuthEvent","useApiServices","loginMachine","useLoginMachine","loginState","sendLoginEvent","useEffect","matches","useFormik","initialValues","email","password","validate","validateOnChange","validateOnBlur","onSubmit","values","handleSubmit","handleChange","errors","formError","isSubmitting","LoginCard","LoginCardPresentation","onChange","prefix","ids","styles","card","sharedStyles","form","ErrorMessage","message","field","htmlFor","maxLength","Primary","role","ThemeContext","ThemeProvider","initialTheme","useState","savedTheme","window","matchMedia","setTheme","themeToggled","useRef","themeState","toggleTheme","current","data-theme","useTheme","Select","dropdownClassName","menuItemSelectedIcon","virtual","prefixCls","inputIcon","Option","RcOption","LanguageSelect","i18n","languageSelect","Small","languages","changeLanguage","language","Switch","component","checked","defaultChecked","ThumbChildren","thumbChildren","onBlur","onFocus","isFocused","setIsFocused","isCheckedInternal","setIsChecked","isChecked","onMouseDown","preventDefault","ThemeSwitch","switch","aria-labelledby","icon","LoggedOutPage","backdrop","data-testid","options","LoggedInPage","onClick","NotificationPosition","ServiceWorkerUpdateContext","ServiceWorkerUpdateProvider","hasUpdate","setHasUpdate","checkIfUpdated","addEventListener","removeEventListener","LinkButton","IconButtonVariant","IconButton","variant","Transparent","Filled","Notification","forwardRef","isClosable","duration","onClose","isHovered","setIsHovered","callback","timeout","callbackRef","timer","setTimeout","clearTimeout","useTimeout","onMouseEnter","onMouseLeave","CloseButton","NotificationCard","enterDuration","parseFloat","enterAnimationDuration","exitDuration","exitAnimationDuration","NotificationManager","notifications","groupedNotifications","notificationDictionary","reduce","dictionary","notification","position","push","entries","NotificationContainer","isMounted","setIsMounted","notificationRef","CSSTransition","nodeRef","in","mountOnEnter","unmountOnExit","enter","exit","onExited","NotificationContext","portalId","NotificationProvider","notificationsRef","setNotifications","notificationActions","open","notificationId","uuid","TopRight","notificationsToKeep","filter","concat","close","currentNotifications","closeAll","forEach","NotificationPortal","outletElement","element","document","createElement","useLayoutEffect","querySelector","remove","appendChild","createPortal","useServiceWorkerUpdateNotification","useServiceWorkerUpdate","useNotification","ServiceWorkerUpdateMessage","Bottom","updateButton","postMessage","toUpperCase","App","isLoggedIn","lang","AppComponent","memo","isLocalhost","location","hostname","match","register","REACT_APP_E2E","navigator","URL","href","origin","swUrl","fetch","then","contentType","serviceWorker","ready","registration","unregister","reload","registerValidSW","catch","console","log","checkValidServiceWorker","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","registerMockServiceWorker","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","getI18nFormatter","format","Intl","NumberFormat","Date","locale","getLocale","localeWithoutCulture","split","getDateLocale","formatDate","I18nProvider","i18next","isInitialized","use","Backend","LanguageDetector","initReactI18next","init","fallbackLng","debug","detection","order","lookupLocalStorage","backend","loadPath","interpolation","escapeValue","I18nextProvider","GlobalProviders","a","redirectRoot","render","registerServiceWorker","pathname","serviceWorkerRegistration","waitingRegistration","waiting","ReactDOM","onRender","basename","fallback","getElementById","start"],"mappings":"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","file":"static/js/main.1efeb20f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"LoggedOutShared_title__2rS1b\",\"theme--dark\":\"LoggedOutShared_theme--dark__1v7P5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"languageSelect\":\"LanguageSelect_languageSelect__3lQgc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"updateButton\":\"ServiceWorkerUpdateNotification_updateButton__347Jn\"};","var _g;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSpinner(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 38,\n    height: 38,\n    viewBox: \"0 0 38 38\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    stroke: \"#fff\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(1 1)\",\n    strokeWidth: 2\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    strokeOpacity: 0.5,\n    cx: 18,\n    cy: 18,\n    r: 18\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M36 18c0-9.94-8.06-18-18-18\"\n  }, /*#__PURE__*/React.createElement(\"animateTransform\", {\n    attributeName: \"transform\",\n    type: \"rotate\",\n    from: \"0 18 18\",\n    to: \"360 18 18\",\n    dur: \"1s\",\n    repeatCount: \"indefinite\"\n  }))))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSpinner);\nexport default __webpack_public_path__ + \"static/media/spinner.bdb71bd5.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactComponent as SpinnerSvg } from 'assets/svg/spinner.svg';\nimport { SVGAttributes } from 'react';\nimport classNames from 'classnames';\nimport { useTranslation } from 'react-i18next';\nimport { VisuallyHidden } from '@reach/visually-hidden';\nimport { ColorVariant } from 'app/core/models/styles.model';\n\nexport enum SpinnerColorVariant {\n  Inverted = 'inverted',\n}\n\nexport interface SpinnerProps extends SVGAttributes<SVGElement> {\n  /**\n   * The color variant of the spinner\n   */\n  color?: ColorVariant | SpinnerColorVariant;\n\n  /**\n   * Whether the spinner should be read by screen readers\n   */\n  isAlert?: boolean;\n}\n\nexport function Spinner({ color, isAlert, className, ...props }: SpinnerProps) {\n  const { t } = useTranslation();\n\n  return (\n    <>\n      <VisuallyHidden aria-busy={true} aria-live={isAlert ? 'assertive' : 'polite'}>\n        {t('states.loading')}\n      </VisuallyHidden>\n      <SpinnerSvg\n        {...props}\n        className={classNames('spinner', { [`spinner--${color}`]: color }, className)}\n        aria-hidden={true}\n      />\n    </>\n  );\n}\n","import { ButtonHTMLAttributes } from 'react';\nimport classNames from 'classnames';\nimport { ColorVariant, ControlSize } from 'app/core/models/styles.model';\nimport { Spinner } from '../spinner/Spinner';\n\nexport interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  type?: 'submit' | 'reset' | 'button';\n\n  /**\n   * The color variant of the button\n   */\n  color?: ColorVariant;\n\n  /**\n   * The size of the button\n   */\n  size?: ControlSize;\n\n  /**\n   * Whether the loading spinner is visible\n   */\n  isLoading?: boolean;\n}\n\nexport function Button({\n  children,\n  disabled,\n  isLoading,\n  className,\n  color,\n  size,\n  type = 'button',\n  ...props\n}: ButtonProps) {\n  return (\n    <button\n      {...props}\n      type={type}\n      className={classNames(\n        'button',\n        { [`button--${color}`]: color, [`button--${size}`]: size },\n        className\n      )}\n      disabled={disabled || isLoading}\n      aria-busy={isLoading}\n    >\n      {isLoading ? <Spinner className=\"button__spinner\" /> : children}\n    </button>\n  );\n}\n","import { HTMLAttributes } from 'react';\nimport classNames from 'classnames';\n\nexport function Field({ className, ...props }: HTMLAttributes<HTMLDivElement>) {\n  return <div {...props} className={classNames('field', className)} />;\n}\n","import { LabelHTMLAttributes } from 'react';\nimport classNames from 'classnames';\n\nexport function Label({ className, children, ...props }: LabelHTMLAttributes<HTMLLabelElement>) {\n  return (\n    <label {...props} className={classNames('label', className)}>\n      {children}\n    </label>\n  );\n}\n","import { InputHTMLAttributes } from 'react';\nimport classNames from 'classnames';\nimport { ColorVariant, ControlSize } from 'app/core/models/styles.model';\n\nexport interface InputProps extends Omit<InputHTMLAttributes<HTMLInputElement>, 'size'> {\n  /**\n   * The color variant of the input\n   */\n  color?: ColorVariant;\n\n  /**\n   * The size of the input\n   */\n  size?: ControlSize;\n}\n\nexport function Input({ className, color, size, ...props }: InputProps) {\n  return (\n    <input\n      {...props}\n      className={classNames(\n        'input',\n        { [`input--${color}`]: color, [`input--${size}`]: size },\n        className\n      )}\n    />\n  );\n}\n","export const constants = {\n  defaultInputMaxLength: 255,\n};\n\nexport type Constants = typeof constants;\n","export enum ColorVariant {\n  Primary = 'primary',\n  Error = 'error',\n}\n\nexport enum ControlSize {\n  Small = 'small',\n}\n","// date-fns locales must be imported individually otherwise\n// all locales will be included in the bundle\nimport enGB from 'date-fns/locale/en-GB';\nimport enUS from 'date-fns/locale/en-US';\nimport ptPT from 'date-fns/locale/pt';\n\nconst dateLocales: Record<string, Locale> = {\n  en: enGB,\n  'en-US': enUS,\n  pt: ptPT,\n};\n\nexport const i18nConfig = {\n  localStorageKey: 'appLanguage',\n  fallbackLanguage: 'en-GB',\n  fallbackDateLocale: enGB,\n  dateLocales,\n  supportedLanguages: [\n    { code: 'en-GB', name: 'English (GB)' },\n    { code: 'en-US', name: 'English (US)' },\n    { code: 'pt-PT', name: 'PortuguÃªs (Portugal)' },\n  ],\n};\n\nexport type I18nConfig = typeof i18nConfig;\n","export const storageKeys = {\n  theme: 'theme',\n  authToken: 'auth-token',\n};\n\nexport type StorageKeys = typeof storageKeys;\n","import { createContext, ReactNode, useContext, useMemo } from 'react';\nimport { constants, Constants } from './constants.config';\nimport { I18nConfig, i18nConfig } from './i18n.config';\nimport { storageKeys, StorageKeys } from './storage.config';\n\nexport interface GlobalConfig {\n  i18nConfig: I18nConfig;\n  storageKeys: StorageKeys;\n  constants: Constants;\n}\n\nconst ConfigContext = createContext<GlobalConfig | undefined>(undefined);\n\nexport function ConfigProvider({\n  children,\n  config,\n}: {\n  children: ReactNode;\n  config?: Partial<GlobalConfig>;\n}) {\n  const currentConfig: GlobalConfig = useMemo(\n    () => ({\n      i18nConfig,\n      storageKeys,\n      constants,\n      ...config,\n    }),\n    [config]\n  );\n\n  return <ConfigContext.Provider value={currentConfig}>{children}</ConfigContext.Provider>;\n}\n\nexport function useConfig() {\n  const context = useContext(ConfigContext);\n\n  if (context === undefined) {\n    throw new Error('useConfig must be used within ConfigProvider');\n  }\n\n  return context;\n}\n","import { createMachine, assign, InvokeCreator, StateMachine } from 'xstate';\n\ntype DefaultRequestData = unknown;\ntype DefaultResponseData = unknown;\ntype DefaultResponseError = Error;\n\nexport type FetchMachineContext<\n  ResponseData = DefaultResponseData,\n  ResponseError = DefaultResponseError\n> = {\n  data?: ResponseData;\n  error?: ResponseError;\n};\n\nexport enum FetchMachineEventType {\n  Fetch = 'FETCH',\n  ReceiveDataSuccess = 'RECEIVE_DATA_SUCCESS',\n  ReceiveDataFailure = 'RECEIVE_DATA_ERROR',\n}\n\nexport type FetchMachineEvent<\n  RequestData = DefaultRequestData,\n  ResponseData = DefaultResponseData,\n  ResponseError = DefaultResponseError\n> =\n  | FetchEvent<RequestData>\n  | ReceiveDataSuccessEvent<ResponseData>\n  | ReceiveDataFailureEvent<ResponseError>;\n\ninterface FetchEvent<RequestData> {\n  type: FetchMachineEventType.Fetch;\n  data: RequestData;\n}\n\ninterface ReceiveDataSuccessEvent<ResponseData> {\n  type: FetchMachineEventType.ReceiveDataSuccess;\n  data: ResponseData;\n}\n\ninterface ReceiveDataFailureEvent<ResponseError> {\n  type: FetchMachineEventType.ReceiveDataFailure;\n  data: ResponseError;\n}\n\nexport enum FetchMachineStateValue {\n  Idle = 'idle',\n  Pending = 'pending',\n  Success = 'success',\n  Failure = 'failure',\n}\n\nexport type FetchMachineState<ResponseData, ResponseError> =\n  | {\n      value: FetchMachineStateValue.Idle;\n      context: {};\n    }\n  | {\n      value: FetchMachineStateValue.Pending;\n      context: {\n        data?: ResponseData;\n        error?: ResponseError;\n      };\n    }\n  | {\n      value: FetchMachineStateValue.Success;\n      context: {\n        data: ResponseData;\n        error?: undefined;\n      };\n    }\n  | {\n      value: FetchMachineStateValue.Failure;\n      context: {\n        data?: ResponseData;\n        error: ResponseError;\n      };\n    };\n\nexport type FetchMachine<RequestData, ResponseData, ResponseError> = StateMachine<\n  FetchMachineContext<ResponseData, ResponseError>,\n  any,\n  FetchMachineEvent<RequestData, ResponseData, ResponseError>,\n  FetchMachineState<ResponseData, ResponseError>\n>;\n\nexport function createFetchMachine<\n  RequestData = DefaultRequestData,\n  ResponseData = DefaultResponseData,\n  ResponseError = DefaultResponseError\n>(config: {\n  id: string;\n  fetcher: InvokeCreator<\n    FetchMachineContext<ResponseData, ResponseError>,\n    FetchMachineEvent<RequestData, ResponseData, ResponseError>,\n    FetchMachineState<ResponseData, ResponseError>\n  >;\n}): FetchMachine<RequestData, ResponseData, ResponseError> {\n  const assignData = assign((_: any, event: { data: ResponseData }) => ({\n    data: event.data,\n  }));\n\n  const assignError = assign((_: any, event: { data: ResponseError }) => ({\n    error: event.data,\n  }));\n\n  const clearError = assign((_: any) => ({\n    error: undefined,\n  }));\n\n  return createMachine({\n    id: config.id,\n    initial: FetchMachineStateValue.Idle,\n    context: {},\n    states: {\n      [FetchMachineStateValue.Idle]: {\n        on: {\n          [FetchMachineEventType.Fetch]: FetchMachineStateValue.Pending,\n        },\n      },\n\n      [FetchMachineStateValue.Pending]: {\n        on: {\n          [FetchMachineEventType.Fetch]: FetchMachineStateValue.Pending,\n          [FetchMachineEventType.ReceiveDataSuccess]: {\n            target: FetchMachineStateValue.Success,\n            actions: [assignData, clearError],\n          },\n          [FetchMachineEventType.ReceiveDataFailure]: {\n            target: FetchMachineStateValue.Failure,\n            actions: assignError,\n          },\n        },\n        invoke: {\n          src: config.fetcher,\n          onError: {\n            target: FetchMachineStateValue.Failure,\n            actions: assignError,\n          },\n        },\n      },\n\n      [FetchMachineStateValue.Success]: {\n        on: {\n          [FetchMachineEventType.Fetch]: FetchMachineStateValue.Pending,\n        },\n      },\n\n      [FetchMachineStateValue.Failure]: {\n        on: {\n          [FetchMachineEventType.Fetch]: FetchMachineStateValue.Pending,\n        },\n      },\n    },\n  });\n}\n","import { Observable, of } from 'rxjs';\nimport { ajax, AjaxError, AjaxRequest } from 'rxjs/ajax';\nimport { catchError, map } from 'rxjs/operators';\nimport { AppliedInterceptor, Interceptor, ApiClient, ApiResponseEither } from './api.types';\nimport { left, right } from 'fp-ts/lib/Either';\n\nexport function createApiClient(interceptors: Interceptor[] = []): ApiClient {\n  const call = applyInterceptors(interceptors);\n\n  return {\n    call,\n    get: (url, headers) => call({ method: 'GET', url, headers }),\n    post: (url, body, headers) => call({ method: 'POST', url, body, headers }),\n    put: (url, body, headers) => call({ method: 'PUT', url, body, headers }),\n    patch: (url, body, headers) => call({ method: 'PATCH', url, body, headers }),\n    delete: (url, headers) => call({ method: 'DELETE', url, headers }),\n  };\n}\n\nconst ajaxRequest = <Data>(data: AjaxRequest): Observable<ApiResponseEither<Data>> =>\n  ajax(data).pipe(\n    map((response) => right({ status: response.status, body: response.response })),\n    catchError((error: AjaxError) => of(left({ status: error.status, body: error.response })))\n  );\n\nfunction applyInterceptors(interceptors: Interceptor[]) {\n  return interceptors.reduceRight<AppliedInterceptor>(\n    (previousInterceptor, currentInterceptor) => (data: AjaxRequest) =>\n      currentInterceptor(data, previousInterceptor),\n    ajaxRequest\n  );\n}\n","import { Interceptor } from './api.types';\n\n/**\n * Sets request content and response types to JSON by default.\n */\nexport const defaultJsonInterceptor: Interceptor = (request, next) =>\n  next({\n    responseType: 'json',\n    ...request,\n    headers: {\n      'Content-Type': 'application/json',\n      ...(request.headers || {}),\n    },\n  });\n","import { createContext, ReactNode, useContext, useMemo } from 'react';\nimport { createApiClient } from './api';\nimport { ApiClient } from './api.types';\nimport { defaultJsonInterceptor } from './defaultJsonInterceptor';\n\nconst ApiContext = createContext<ApiClient | undefined>(undefined);\n\nexport function ApiProvider({ children }: { children: ReactNode }) {\n  const apiClient = useMemo(() => createApiClient([defaultJsonInterceptor]), []);\n\n  return <ApiContext.Provider value={apiClient}>{children}</ApiContext.Provider>;\n}\n\nexport function useApiClient() {\n  const context = useContext(ApiContext);\n\n  if (context === undefined) {\n    throw new Error('useApiClient must be used within ApiProvider');\n  }\n\n  return context;\n}\n","import { ApiAuthToken, ApiCreateAuthTokenRequest } from 'app/core/models/auth.model';\nimport { Observable } from 'rxjs';\nimport { ApiClient, ApiResponseEither } from '../api.types';\nimport { Reader } from 'fp-ts/lib/Reader';\n\nexport interface AuthService {\n  login: (user: ApiCreateAuthTokenRequest) => Observable<ApiResponseEither<ApiAuthToken>>;\n}\n\nconst apiPath = process.env.REACT_APP_API_PATH;\n\nexport const createAuthService: Reader<{ api: ApiClient }, AuthService> = ({ api }) => ({\n  login: (user) => api.post(apiPath + '/auth-token', user),\n});\n","import { createContext, ReactNode, useContext, useMemo } from 'react';\nimport { useApiClient } from '../ApiProvider';\nimport { AuthService, createAuthService } from './authService';\n\ninterface ApiServices {\n  authService: AuthService;\n}\n\nconst ApiServicesContext = createContext<ApiServices | undefined>(undefined);\n\nexport function ApiServicesProvider({ children }: { children: ReactNode }) {\n  const api = useApiClient();\n\n  const services: ApiServices = useMemo(\n    () => ({\n      authService: createAuthService({ api }),\n    }),\n    [api]\n  );\n\n  return <ApiServicesContext.Provider value={services}>{children}</ApiServicesContext.Provider>;\n}\n\nexport function useApiServices() {\n  const context = useContext(ApiServicesContext);\n\n  if (context === undefined) {\n    throw new Error('useApiServices must be used within ApiServicesContext');\n  }\n\n  return context;\n}\n","export const getFromLocalStorage = <T>(key: string) => getFromStorage<T>(localStorage, key);\nexport const saveToLocalStorage = <T>(key: string, item: T) =>\n  saveToStorage<T>(localStorage, key, item);\n\nexport const getFromSessionStorage = <T>(key: string) => getFromStorage<T>(sessionStorage, key);\nexport const saveToSessionStorage = <T>(key: string, item: T) =>\n  saveToStorage<T>(sessionStorage, key, item);\n\n/**\n * Gets item from session storage, if it does not exist gets from local storage\n */\nexport const getFromEitherStorage = <T>(key: string) =>\n  getFromSessionStorage<T>(key) ?? getFromLocalStorage<T>(key);\n\nconst getFromStorage = <T>(storage: Storage, key: string): T | undefined => {\n  try {\n    const serializedItem = storage.getItem(key);\n    if (serializedItem === null) {\n      return undefined;\n    }\n\n    return JSON.parse(serializedItem);\n  } catch {\n    // did not find a way to test with jsdom\n    // istanbul ignore next\n    return undefined;\n  }\n};\n\nconst saveToStorage = <T>(storage: Storage, key: string, item: T) => {\n  try {\n    const serializedItem = JSON.stringify(item);\n    storage.setItem(key, serializedItem);\n  } catch {\n    // Do nothing if we can't write to local storage\n  }\n};\n","import { getFromLocalStorage, saveToLocalStorage } from 'app/common/utils/browser.util';\nimport { Reader } from 'fp-ts/lib/Reader';\nimport { createMachine, send, StateMachine } from 'xstate';\nimport { StorageKeys } from 'app/core/configs/storage.config';\nimport { ApiAuthToken } from '../models/auth.model';\n\nexport type AuthMachineContext = {};\n\nexport enum AuthMachineEventType {\n  CheckIfLoggedIn = 'CHECK_IF_LOGGED_IN',\n  Login = 'LOGIN',\n  Logout = 'LOGOUT',\n}\n\nexport type AuthMachineEvent =\n  | { type: AuthMachineEventType.CheckIfLoggedIn }\n  | { type: AuthMachineEventType.Logout }\n  | LoginEvent;\n\ninterface LoginEvent {\n  type: AuthMachineEventType.Login;\n  data: ApiAuthToken;\n}\n\nexport enum AuthMachineStateValue {\n  CheckingIfLoggedIn = 'checkingIfLoggedIn',\n  LoggedIn = 'loggedIn',\n  LoggedOut = 'loggedOut',\n}\n\nexport type AuthMachineState = {\n  value: AuthMachineStateValue;\n  context: {};\n};\n\nexport const createAuthMachine: Reader<\n  { storageKeys: StorageKeys },\n  StateMachine<AuthMachineContext, any, AuthMachineEvent, AuthMachineState>\n> = ({ storageKeys }) => {\n  const storeToken = (_: any, event: LoginEvent) =>\n    saveToLocalStorage(storageKeys.authToken, event.data);\n\n  const clearToken = () => localStorage.removeItem(storageKeys.authToken);\n\n  const isLoggedIn = () => Boolean(getFromLocalStorage<ApiAuthToken>(storageKeys.authToken));\n\n  return createMachine({\n    id: 'auth',\n    initial: AuthMachineStateValue.CheckingIfLoggedIn,\n    states: {\n      [AuthMachineStateValue.CheckingIfLoggedIn]: {\n        on: {\n          [AuthMachineEventType.CheckIfLoggedIn]: [\n            {\n              target: AuthMachineStateValue.LoggedIn,\n              cond: isLoggedIn,\n            },\n            { target: AuthMachineStateValue.LoggedOut },\n          ],\n        },\n        entry: send({ type: AuthMachineEventType.CheckIfLoggedIn }),\n      },\n\n      [AuthMachineStateValue.LoggedIn]: {\n        on: {\n          [AuthMachineEventType.Logout]: {\n            target: AuthMachineStateValue.LoggedOut,\n            actions: clearToken,\n          },\n        },\n      },\n\n      [AuthMachineStateValue.LoggedOut]: {\n        on: {\n          [AuthMachineEventType.Login]: {\n            target: AuthMachineStateValue.LoggedIn,\n            actions: storeToken,\n          },\n        },\n      },\n    },\n  });\n};\n","import { createContext, ReactNode, useContext, useMemo } from 'react';\nimport { useMachine, useService } from '@xstate/react';\nimport { Interpreter } from 'xstate';\nimport {\n  AuthMachineContext as MachineContext,\n  AuthMachineEvent,\n  AuthMachineState,\n  createAuthMachine,\n} from './authMachine';\nimport { useConfig } from '../configs/ConfigProvider';\n\nconst AuthMachineContext = createContext<\n  Interpreter<MachineContext, any, AuthMachineEvent, AuthMachineState> | undefined\n>(undefined);\n\nexport function AuthMachineProvider({\n  children,\n  service,\n}: {\n  children: ReactNode;\n  service?: Interpreter<MachineContext, any, AuthMachineEvent, AuthMachineState>;\n}) {\n  const { storageKeys } = useConfig();\n\n  const authMachine = useMemo(() => createAuthMachine({ storageKeys }), [storageKeys]);\n  const [, , defaultService] = useMachine(authMachine, {\n    devTools: process.env.NODE_ENV === 'development',\n  });\n\n  return (\n    <AuthMachineContext.Provider value={service ?? defaultService}>\n      {children}\n    </AuthMachineContext.Provider>\n  );\n}\n\nexport function useAuthMachine() {\n  const service = useContext(AuthMachineContext);\n\n  if (service === undefined) {\n    throw new Error('useAuthMachine must be used within AuthMachineProvider');\n  }\n\n  const [state, send] = useService(service);\n  return [state, send, service] as const;\n}\n","export enum LoginError {\n  Invalid = 'INVALID',\n  Unexpected = 'UNEXPECTED',\n}\n\nexport interface LoginForm {\n  email: string;\n  password: string;\n}\n","import {\n  createFetchMachine,\n  FetchMachine,\n  FetchMachineEventType,\n} from 'app/common/machines/fetchMachine';\nimport { AuthService } from 'app/core/api/services/authService';\nimport { ApiAuthToken, ApiCreateAuthTokenRequest } from 'app/core/models/auth.model';\nimport { Reader } from 'fp-ts/lib/Reader';\nimport { map } from 'rxjs/operators';\nimport * as E from 'fp-ts/lib/Either';\nimport { pipe } from 'fp-ts/lib/function';\nimport { LoginError } from './login.types';\n\nexport const createLoginMachine: Reader<\n  { authService: AuthService },\n  FetchMachine<ApiCreateAuthTokenRequest, ApiAuthToken, LoginError>\n> = ({ authService }) => {\n  const login = (token: ApiCreateAuthTokenRequest) => {\n    return authService.login(token).pipe(\n      map((response) =>\n        pipe(\n          response,\n\n          E.match(\n            (error) => ({\n              type: FetchMachineEventType.ReceiveDataFailure,\n              data: error.status === 401 ? LoginError.Invalid : LoginError.Unexpected,\n            }),\n\n            (response) => ({\n              type: FetchMachineEventType.ReceiveDataSuccess,\n              data: response.body,\n            })\n          )\n        )\n      )\n    );\n  };\n\n  return createFetchMachine({\n    id: 'login',\n\n    fetcher: (_, event) =>\n      event.type === FetchMachineEventType.Fetch ? login(event.data) : () => {},\n  });\n};\n","import { useMachine } from '@xstate/react';\nimport { FetchMachineEventType, FetchMachineStateValue } from 'app/common/machines/fetchMachine';\nimport { useApiServices } from 'app/core/api/services/ApiServicesProvider';\nimport { AuthMachineEventType } from 'app/core/auth/authMachine';\nimport { useAuthMachine } from 'app/core/auth/AuthMachineProvider';\nimport { useEffect, useMemo } from 'react';\nimport { createLoginMachine } from './loginMachine';\nimport { FormikErrors, useFormik } from 'formik';\nimport { LoginError, LoginForm } from './login.types';\n\nexport function useLoginCard() {\n  const [, sendAuthEvent] = useAuthMachine();\n  const [loginState, sendLoginEvent] = useLoginMachine();\n\n  useEffect(() => {\n    if (loginState.matches(FetchMachineStateValue.Success)) {\n      sendAuthEvent({ type: AuthMachineEventType.Login, data: loginState.context.data });\n    }\n  }, [loginState, sendAuthEvent]);\n\n  const { handleSubmit, handleChange, values, errors } = useFormik<LoginForm>({\n    initialValues: {\n      email: '',\n      password: '',\n    },\n\n    validate,\n    validateOnChange: false,\n    validateOnBlur: false,\n\n    onSubmit: (values) => {\n      sendLoginEvent({ type: FetchMachineEventType.Fetch, data: values });\n    },\n  });\n\n  const formError = Object.keys(errors).length > 0 ? LoginError.Invalid : undefined;\n\n  const isSubmitting = loginState.matches(FetchMachineStateValue.Pending);\n\n  return {\n    isSubmitting,\n    error: formError ?? loginState.context.error,\n    values,\n    handleChange,\n    handleSubmit,\n  };\n}\n\nfunction useLoginMachine() {\n  const { authService } = useApiServices();\n\n  const loginMachine = useMemo(() => createLoginMachine({ authService }), [authService]);\n\n  return useMachine(loginMachine, { devTools: process.env.NODE_ENV === 'development' });\n}\n\nfunction validate(values: LoginForm): FormikErrors<LoginForm> {\n  const errors: FormikErrors<LoginForm> = {};\n\n  if (!values.email) {\n    errors.email = 'required';\n  }\n\n  if (!values.password) {\n    errors.password = 'required';\n  }\n\n  return errors;\n}\n","import { Button } from 'app/common/components/button/Button';\nimport { Field } from 'app/common/components/form/Field';\nimport { Label } from 'app/common/components/form/Label';\nimport { Input } from 'app/common/components/input/Input';\nimport { useConfig } from 'app/core/configs/ConfigProvider';\nimport { ColorVariant } from 'app/core/models/styles.model';\nimport { useTranslation } from 'react-i18next';\nimport styles from './LoginCard.module.scss';\nimport sharedStyles from '../LoggedOutShared.module.scss';\nimport classNames from 'classnames';\nimport { useLoginCard } from './useLoginCard';\nimport { ChangeEvent, FormEvent } from 'react';\nimport { LoginError, LoginForm } from './login.types';\n\nexport interface LoginCardProps {\n  className?: string;\n}\n\nexport interface LoginCardPresentationProps extends LoginCardProps {\n  values: LoginForm;\n  error?: LoginError;\n  isSubmitting?: boolean;\n  onChange: (event: ChangeEvent<HTMLElement>) => void;\n  onSubmit: (event: FormEvent<HTMLFormElement>) => void;\n}\n\nexport function LoginCard(props: LoginCardProps) {\n  const { isSubmitting, error, values, handleChange, handleSubmit } = useLoginCard();\n\n  return (\n    <LoginCardPresentation\n      {...props}\n      isSubmitting={isSubmitting}\n      error={error}\n      values={values}\n      onChange={handleChange}\n      onSubmit={handleSubmit}\n    />\n  );\n}\n\nconst prefix = 'login_card-';\n\nconst ids = {\n  email: prefix + 'email',\n  password: prefix + 'password',\n};\n\nexport function LoginCardPresentation({\n  className,\n  error,\n  isSubmitting,\n  values,\n  onChange,\n  onSubmit,\n}: LoginCardPresentationProps) {\n  const { constants } = useConfig();\n  const { t } = useTranslation();\n\n  return (\n    <div className={classNames(styles.card, className)}>\n      <h1 className={sharedStyles.title}>{t('pages.login.title')}</h1>\n\n      <form className={styles.form} onSubmit={onSubmit}>\n        {error === LoginError.Invalid && (\n          <ErrorMessage message={t('pages.login.errors.invalidLogin')} />\n        )}\n        {error === LoginError.Unexpected && (\n          <ErrorMessage message={t('pages.login.errors.unexpected')} />\n        )}\n\n        <Field className={styles.field}>\n          <Label htmlFor={ids.email}>{t('props.user.email')}</Label>\n          <Input\n            id={ids.email}\n            name=\"email\"\n            type=\"email\"\n            className=\"input\"\n            maxLength={constants.defaultInputMaxLength}\n            disabled={isSubmitting}\n            value={values.email}\n            onChange={onChange}\n          />\n        </Field>\n\n        <Field className={styles.field}>\n          <Label htmlFor={ids.password}>{t('props.user.password')}</Label>\n          <Input\n            id={ids.password}\n            name=\"password\"\n            type=\"password\"\n            className=\"input\"\n            maxLength={constants.defaultInputMaxLength}\n            disabled={isSubmitting}\n            value={values.password}\n            onChange={onChange}\n          />\n        </Field>\n\n        <Button type=\"submit\" color={ColorVariant.Primary} isLoading={isSubmitting}>\n          {t('pages.login.submit')}\n        </Button>\n      </form>\n    </div>\n  );\n}\n\nfunction ErrorMessage({ message }: { message: string }) {\n  return (\n    <div className={classNames('help help--error', styles.error)} role=\"alert\">\n      {message}\n    </div>\n  );\n}\n","import { getFromLocalStorage, saveToLocalStorage } from 'app/common/utils/browser.util';\nimport { createContext, ReactNode, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { useConfig } from '../configs/ConfigProvider';\n\nexport type Theme = 'light' | 'dark';\n\nexport const ThemeContext = createContext<{ theme: Theme; toggleTheme: () => void } | undefined>(\n  undefined\n);\n\nexport function ThemeProvider({\n  children,\n  initialTheme,\n}: {\n  children: ReactNode;\n  initialTheme?: Theme;\n}) {\n  const { storageKeys } = useConfig();\n\n  const [theme, setTheme] = useState<Theme>(() => {\n    if (initialTheme) {\n      return initialTheme;\n    }\n\n    const savedTheme = getFromLocalStorage<Theme>(storageKeys.theme);\n    if (savedTheme) {\n      return savedTheme;\n    }\n\n    return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n  });\n\n  const themeToggled = useRef(false);\n\n  useEffect(() => {\n    if (themeToggled) {\n      saveToLocalStorage(storageKeys.theme, theme);\n    }\n  }, [storageKeys.theme, theme]);\n\n  const themeState = useMemo(() => {\n    const toggleTheme = () => {\n      themeToggled.current = true;\n      setTheme((theme) => (theme === 'light' ? 'dark' : 'light'));\n    };\n\n    return { theme, toggleTheme };\n  }, [theme]);\n\n  return (\n    <>\n      <Helmet>\n        <html data-theme={theme} />\n      </Helmet>\n      <ThemeContext.Provider value={themeState}>{children}</ThemeContext.Provider>\n    </>\n  );\n}\n\nexport function useTheme() {\n  const context = useContext(ThemeContext);\n\n  if (context === undefined) {\n    throw new Error('useTheme must be used within ThemeProvider');\n  }\n\n  return context;\n}\n","import RcSelect, { Option as RcOption, SelectProps as RcSelectProps } from 'rc-select';\nimport { DefaultValueType } from 'rc-select/lib/interface/generator';\nimport { OptionProps as RcSelectOptionprops } from 'rc-select/lib/Option';\nimport classNames from 'classnames';\nimport { ChevronDown } from 'react-feather';\nimport { ColorVariant, ControlSize } from 'app/core/models/styles.model';\nimport { useTheme } from 'app/core/providers/ThemeProvider';\n\nexport type SelectValue = DefaultValueType;\nexport type SelectOptionProps = RcSelectOptionprops;\n\nexport interface SelectProps<Value extends SelectValue> extends RcSelectProps<Value> {\n  /**\n   * The color variant of the select\n   */\n  color?: ColorVariant;\n\n  /**\n   * The size of the select\n   */\n  size?: ControlSize;\n}\n\nexport function Select<Value extends SelectValue>({\n  className,\n  dropdownClassName,\n  size,\n  color,\n  menuItemSelectedIcon = null,\n  virtual = false,\n  ...props\n}: SelectProps<Value>) {\n  const { theme } = useTheme();\n\n  return (\n    <RcSelect<Value>\n      {...props}\n      prefixCls=\"select\"\n      className={classNames({ [`select--${color}`]: color, [`select--${size}`]: size }, className)}\n      dropdownClassName={classNames(\n        { [`select-dropdown--${size}`]: size },\n        `theme--${theme}`,\n        dropdownClassName\n      )}\n      virtual={virtual}\n      menuItemSelectedIcon={menuItemSelectedIcon}\n      inputIcon={<ChevronDown />}\n    />\n  );\n}\n\nSelect.Option = RcOption;\n","import { ControlSize } from 'app/core/models/styles.model';\nimport { useTranslation } from 'react-i18next';\nimport { Select } from 'app/common/components/select/Select';\nimport styles from './LanguageSelect.module.scss';\nimport { useConfig } from 'app/core/configs/ConfigProvider';\n\nexport function LanguageSelect() {\n  const { i18nConfig } = useConfig();\n  const { i18n } = useTranslation();\n\n  const handleLanguageChange = (code: string) => {\n    i18n.changeLanguage(code);\n  };\n\n  return (\n    <Select\n      className={styles.languageSelect}\n      size={ControlSize.Small}\n      value={i18n.languages[0]}\n      onChange={handleLanguageChange}\n    >\n      {i18nConfig.supportedLanguages.map((language) => (\n        <Select.Option key={language.code} value={language.code}>\n          {language.name}\n        </Select.Option>\n      ))}\n    </Select>\n  );\n}\n","import { ColorVariant, ControlSize } from 'app/core/models/styles.model';\nimport classNames from 'classnames';\nimport { AriaAttributes, ChangeEvent, ComponentType, FocusEvent, ReactNode, useState } from 'react';\n\nexport type SwitchProps = {\n  /**\n   * The color variant of the switch\n   */\n  color?: ColorVariant;\n\n  /**\n   * The size of the switch\n   */\n  size?: ControlSize;\n\n  id?: string;\n  className?: string;\n  checked?: boolean;\n  defaultChecked?: boolean;\n  disabled?: boolean;\n\n  /**\n   * The content to be shown on the thumb\n   */\n  thumbChildren?: ComponentType<{ isChecked: boolean }> | ReactNode;\n\n  onChange?: (isChecked: boolean, event: ChangeEvent<HTMLInputElement>) => unknown;\n  onFocus?: (event: FocusEvent<HTMLInputElement>) => unknown;\n  onBlur?: (event: FocusEvent<HTMLInputElement>) => unknown;\n} & Pick<AriaAttributes, 'aria-labelledby'>;\n\nexport function Switch({\n  color,\n  size,\n  className,\n  checked,\n  defaultChecked,\n  disabled,\n  thumbChildren: ThumbChildren,\n  onChange,\n  onBlur,\n  onFocus,\n  ...props\n}: SwitchProps) {\n  const [isFocused, setIsFocused] = useState(false);\n  const [isCheckedInternal, setIsChecked] = useState(defaultChecked);\n  const isChecked = checked ?? isCheckedInternal;\n\n  return (\n    <>\n      {/* eslint-disable-next-line jsx-a11y/no-noninteractive-element-interactions */}\n      <label\n        className={classNames(\n          'switch',\n          {\n            [`switch--${color}`]: color,\n            [`switch--${size}`]: size,\n            'switch--checked': isChecked,\n            'switch--focus': isFocused,\n            'switch--disabled': disabled,\n          },\n          className\n        )}\n        onMouseDown={(event) => {\n          // prevent checkbox blur on repeated clicks\n          event.preventDefault();\n        }}\n      >\n        <input\n          {...props}\n          type=\"checkbox\"\n          className=\"switch__input\"\n          defaultChecked={defaultChecked}\n          checked={checked}\n          disabled={disabled}\n          onChange={(event) => {\n            setIsChecked(event.target.checked);\n            onChange?.(event.target.checked, event);\n          }}\n          onFocus={(event) => {\n            setIsFocused(true);\n            onFocus?.(event);\n          }}\n          onBlur={(event) => {\n            setIsFocused(false);\n            onBlur?.(event);\n          }}\n        />\n\n        <span className=\"switch__thumb\" aria-hidden={true}>\n          {isComponentType(ThumbChildren) ? (\n            <ThumbChildren isChecked={isChecked ?? false} />\n          ) : (\n            ThumbChildren\n          )}\n        </span>\n      </label>\n    </>\n  );\n}\n\nfunction isComponentType<T>(\n  component: ComponentType<T> | ReactNode\n): component is ComponentType<T> {\n  return typeof component === 'function';\n}\n","import { Switch } from '../switch/Switch';\nimport { Sun, Moon } from 'react-feather';\nimport { useTheme } from 'app/core/providers/ThemeProvider';\nimport styles from './ThemeSwitch.module.scss';\nimport VisuallyHidden from '@reach/visually-hidden';\nimport { useTranslation } from 'react-i18next';\nimport { ControlSize } from 'app/core/models/styles.model';\n\nexport function ThemeSwitch() {\n  const { theme, toggleTheme } = useTheme();\n  const { t } = useTranslation();\n\n  return (\n    <>\n      <VisuallyHidden id=\"theme-switch-label\">\n        {t('components.themeSwitch.' + theme)}\n      </VisuallyHidden>\n      <Switch\n        className={styles.switch}\n        aria-labelledby=\"theme-switch-label\"\n        size={ControlSize.Small}\n        checked={theme === 'light'}\n        onChange={toggleTheme}\n        thumbChildren={({ isChecked }) =>\n          isChecked ? <Sun className={styles.icon} /> : <Moon className={styles.icon} />\n        }\n      />\n    </>\n  );\n}\n","import { LoginCard } from './login/LoginCard';\nimport styles from './LoggedOutPage.module.scss';\nimport { LanguageSelect } from 'app/common/components/language-select/LanguageSelect';\nimport { ThemeSwitch } from 'app/common/components/theme-switch/ThemeSwitch';\n\nexport function LoggedOutPage() {\n  return (\n    <div className={styles.backdrop} data-testid=\"logged_out-page\">\n      <LoginCard className={styles.card} />\n\n      <div className={styles.options}>\n        <ThemeSwitch />\n        <LanguageSelect />\n      </div>\n    </div>\n  );\n}\n","import { Button } from 'app/common/components/button/Button';\nimport { AuthMachineEventType } from 'app/core/auth/authMachine';\nimport { useAuthMachine } from 'app/core/auth/AuthMachineProvider';\nimport { MouseEvent } from 'react';\n\nexport function LoggedInPage() {\n  const [, sendAuthEvent] = useAuthMachine();\n\n  const handleLogout = (event: MouseEvent<HTMLButtonElement>) => {\n    event.preventDefault();\n    sendAuthEvent({ type: AuthMachineEventType.Logout });\n  };\n\n  return (\n    <div data-testid=\"logged_in-page\">\n      <Button type=\"button\" onClick={handleLogout}>\n        Log out\n      </Button>\n    </div>\n  );\n}\n","import { createContext, ReactNode, useContext, useEffect, useState } from 'react';\n\nexport interface HasServiceWorkerUpdateMessage {\n  type: 'HAS_SERVICE_WORKER_UPDATE';\n}\n\nexport interface UpdateServiceWorkerMessage {\n  type: 'UPDATE_SERVICE_WORKER';\n}\n\nexport const ServiceWorkerUpdateContext = createContext<boolean | undefined>(undefined);\n\nexport function ServiceWorkerUpdateProvider({ children }: { children: ReactNode }) {\n  const [hasUpdate, setHasUpdate] = useState(false);\n\n  useEffect(() => {\n    const checkIfUpdated = (message: MessageEvent<any>) => {\n      if (message.data?.type === 'HAS_SERVICE_WORKER_UPDATE') {\n        setHasUpdate(true);\n      }\n    };\n\n    window.addEventListener('message', checkIfUpdated);\n\n    return () => window.removeEventListener('message', checkIfUpdated);\n  }, []);\n\n  return (\n    <ServiceWorkerUpdateContext.Provider value={hasUpdate}>\n      {children}\n    </ServiceWorkerUpdateContext.Provider>\n  );\n}\n\nexport function useServiceWorkerUpdate() {\n  const context = useContext(ServiceWorkerUpdateContext);\n\n  if (context === undefined) {\n    throw new Error('useServiceWorkerUpdateContext must be used within ServiceWorkerUpdateContext');\n  }\n\n  return context;\n}\n","import { ReactNode } from 'react';\n\nexport type NotificationId = number | string;\n\nexport enum NotificationPosition {\n  Top = 'top',\n  TopLeft = 'top-left',\n  TopRight = 'top-right',\n  Bottom = 'bottom',\n  BottomLeft = 'bottom-left',\n  BottomRight = 'bottom-right',\n}\n\nexport interface NotificationConfig {\n  id: NotificationId;\n  message: ReactNode;\n  position: NotificationPosition;\n  duration?: number;\n  isClosable?: boolean;\n  onClose: () => void;\n}\n","import classNames from 'classnames';\nimport { ButtonHTMLAttributes } from 'react';\nimport { Button, ButtonProps } from '../button/Button';\n\nexport type LinkButtonProps = Omit<ButtonHTMLAttributes<HTMLButtonElement>, 'color'> &\n  Pick<ButtonProps, 'type' | 'size'>;\n\nexport function LinkButton({ className, ...props }: LinkButtonProps) {\n  return <Button {...props} className={classNames('button--link', className)} />;\n}\n","import classNames from 'classnames';\nimport { ButtonHTMLAttributes } from 'react';\nimport { Button, ButtonProps } from '../button/Button';\n\nexport enum IconButtonVariant {\n  Transparent = 'transparent',\n  Filled = 'filled',\n}\n\nexport type IconButtonProps = ButtonHTMLAttributes<HTMLButtonElement> &\n  Pick<ButtonProps, 'type' | 'color' | 'size' | 'isLoading'> & { variant?: IconButtonVariant };\n\nexport function IconButton({\n  className,\n  color,\n  variant = IconButtonVariant.Transparent,\n  ...props\n}: IconButtonProps) {\n  return (\n    <Button\n      {...props}\n      color={IconButtonVariant.Filled ? color : undefined}\n      className={classNames(\n        'button--icon-button',\n        { 'button--transparent': variant === IconButtonVariant.Transparent },\n        className\n      )}\n    />\n  );\n}\n","import VisuallyHidden from '@reach/visually-hidden';\nimport { forwardRef, ReactNode, useState } from 'react';\nimport { X as CloseIcon } from 'react-feather';\nimport { useTranslation } from 'react-i18next';\nimport classNames from 'classnames';\nimport { IconButton } from '../icon-button/IconButton';\nimport { ControlSize } from 'app/core/models/styles.model';\nimport { TFunction } from 'i18next';\nimport { useTimeout } from 'app/common/hooks/useTimeout';\n\nexport interface NotificationProps {\n  className?: string;\n  children: ReactNode;\n\n  /**\n   * Whether to show close button or not\n   */\n  isClosable?: boolean;\n\n  /**\n   * Time in miliseconds before notification is closed.\n   */\n  duration?: number;\n\n  /**\n   * Callback when notification closes\n   */\n  onClose?: () => void;\n}\n\ninterface NotificationCardProps {\n  className?: string;\n  children: ReactNode;\n\n  onMouseLeave: () => void;\n  onMouseEnter: () => void;\n}\n\nexport const Notification = forwardRef<HTMLDivElement, NotificationProps>(function Notification(\n  { className, children, isClosable, duration, onClose },\n  ref\n) {\n  const { t } = useTranslation();\n  const [isHovered, setIsHovered] = useState(false);\n\n  useTimeout(\n    () => {\n      onClose?.();\n    },\n    isHovered ? null : duration\n  );\n\n  const handleMouseEnter = () => setIsHovered(true);\n  const handleMouseLeave = () => setIsHovered(false);\n\n  return (\n    <NotificationCard\n      className={className}\n      ref={ref}\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}\n    >\n      {children}\n\n      {isClosable && <CloseButton t={t} onClose={onClose} />}\n    </NotificationCard>\n  );\n});\n\nconst NotificationCard = forwardRef<HTMLDivElement, NotificationCardProps>(\n  function NotificationCard({ children, className, onMouseEnter, onMouseLeave }, ref) {\n    return (\n      <div\n        className={classNames('notification', className)}\n        role=\"alert\"\n        ref={ref}\n        onMouseEnter={onMouseEnter}\n        onMouseLeave={onMouseLeave}\n      >\n        {children}\n      </div>\n    );\n  }\n);\n\nfunction CloseButton({ t, onClose }: { t: TFunction; onClose?: () => void }) {\n  return (\n    <IconButton className=\"notification__close-button\" size={ControlSize.Small} onClick={onClose}>\n      <VisuallyHidden>{t('actions.close')}</VisuallyHidden>\n      <CloseIcon />\n    </IconButton>\n  );\n}\n","import { useEffect, useRef } from 'react';\n\n/**\n * Sets timeout and clears it on component unmount or timeout change.\n * Does not execute callback if no timeout is provided.\n *\n * @param timeout timeout in ms\n */\nexport function useTimeout(callback: () => any, timeout?: number | null) {\n  const callbackRef = useRef<() => any>(callback);\n  callbackRef.current = callback;\n\n  useEffect(() => {\n    if (typeof timeout === 'number') {\n      const runLatestCallback = () => {\n        callbackRef.current();\n      };\n\n      const timer = setTimeout(runLatestCallback, timeout);\n      return () => clearTimeout(timer);\n    }\n  }, [timeout]);\n}\n","import { useTheme } from 'app/core/providers/ThemeProvider';\nimport classNames from 'classnames';\nimport { useEffect, useMemo, useRef, useState } from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport { Notification } from './Notification';\nimport { NotificationConfig, NotificationPosition } from './notification.types';\nimport styles from './notification.module.scss';\n\ntype NotificationDictionary = Record<NotificationPosition, NotificationConfig[]>;\n\nconst enterDuration = parseFloat(styles.enterAnimationDuration!);\nconst exitDuration = parseFloat(styles.exitAnimationDuration!);\n\nexport function NotificationManager({ notifications }: { notifications: NotificationConfig[] }) {\n  const { theme } = useTheme();\n\n  const groupedNotifications = useMemo(() => {\n    const notificationDictionary = notifications.reduce<NotificationDictionary>(\n      (dictionary, notification) => {\n        if (dictionary[notification.position]) {\n          dictionary[notification.position].push(notification);\n        } else {\n          dictionary[notification.position] = [notification];\n        }\n\n        return dictionary;\n      },\n      {} as NotificationDictionary\n    );\n\n    return Object.entries(notificationDictionary) as Array<\n      [NotificationPosition, NotificationConfig[]]\n    >;\n  }, [notifications]);\n\n  return (\n    <>\n      {groupedNotifications.map(([position, notifications]) => (\n        <ul\n          key={position}\n          id={`notification-manager-${position}`}\n          className={classNames(\n            'notification-manager',\n            `notification-manager--${position}`,\n            `theme--${theme}`\n          )}\n        >\n          {notifications.map((notification) => (\n            <NotificationContainer key={notification.id} {...notification} />\n          ))}\n        </ul>\n      ))}\n    </>\n  );\n}\n\nfunction NotificationContainer({ id, message, position, onClose, ...props }: NotificationConfig) {\n  const [isMounted, setIsMounted] = useState(false);\n\n  const notificationRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => setIsMounted(true), []);\n  const handleClose = () => setIsMounted(false);\n\n  return (\n    <li className=\"notification-container\">\n      <CSSTransition\n        nodeRef={notificationRef}\n        in={isMounted}\n        mountOnEnter={true}\n        unmountOnExit={true}\n        timeout={{\n          enter: enterDuration,\n          exit: exitDuration,\n        }}\n        classNames={{\n          enter: 'notification--enter',\n          exit: 'notification--exit',\n        }}\n        onExited={onClose}\n      >\n        <Notification {...props} ref={notificationRef} onClose={handleClose}>\n          {message}\n        </Notification>\n      </CSSTransition>\n    </li>\n  );\n}\n","import {\n  createContext,\n  ReactNode,\n  useContext,\n  useLayoutEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { createPortal } from 'react-dom';\nimport { NotificationConfig, NotificationId, NotificationPosition } from './notification.types';\nimport { NotificationManager } from './NotificationManager';\nimport { v4 as uuid } from 'uuid';\n\ntype NotificationOptions = Pick<NotificationConfig, 'message' | 'duration' | 'isClosable'> &\n  Partial<Pick<NotificationConfig, 'id' | 'position' | 'onClose'>>;\n\ninterface NotificationMethods {\n  open: (options: NotificationOptions) => void;\n  close: (notificationId: NotificationId) => void;\n  closeAll: () => void;\n}\n\nconst NotificationContext = createContext<NotificationMethods | undefined>(undefined);\n\nconst portalId = 'notification-portal';\n\nexport function NotificationProvider({ children }: { children: ReactNode }) {\n  const notificationsRef = useRef<NotificationConfig[]>([]);\n  const [notifications, setNotifications] = useState<NotificationConfig[]>([]);\n  notificationsRef.current = notifications;\n\n  const notificationActions = useMemo<NotificationMethods>(() => {\n    return {\n      open: ({ position, id, onClose, ...options }) => {\n        const notificationId = id ?? uuid();\n\n        const notification: NotificationConfig = {\n          ...options,\n          id: notificationId,\n          position: position ?? NotificationPosition.TopRight, // TODO useConfig\n          onClose: () => {\n            const notificationsToKeep = notificationsRef.current.filter(\n              (notification) => notification.id !== notificationId\n            );\n\n            notificationsRef.current = notificationsToKeep;\n            setNotifications(notificationsToKeep);\n\n            onClose?.();\n          },\n        };\n\n        setNotifications((notifications) => notifications.concat(notification));\n      },\n\n      close: (notificationId) => {\n        const currentNotifications = notificationsRef.current;\n        const notificationsToKeep: NotificationConfig[] = [];\n\n        for (const notification of currentNotifications) {\n          if (notification.id === notificationId) {\n            notification.onClose();\n          } else {\n            notificationsToKeep.push(notification);\n          }\n        }\n\n        notificationsRef.current = notificationsToKeep;\n        setNotifications(notificationsToKeep);\n      },\n\n      closeAll: () => {\n        notificationsRef.current.forEach((notification) => notification.onClose());\n        notificationsRef.current = [];\n        setNotifications([]);\n      },\n    };\n  }, []);\n\n  return (\n    <>\n      <NotificationPortal>\n        <NotificationManager notifications={notifications}></NotificationManager>\n      </NotificationPortal>\n\n      <NotificationContext.Provider value={notificationActions}>\n        {children}\n      </NotificationContext.Provider>\n    </>\n  );\n}\n\nexport function useNotification() {\n  const context = useContext(NotificationContext);\n\n  if (context === undefined) {\n    throw new Error('useNotification must be used within NotificationProvider');\n  }\n\n  return context;\n}\n\nfunction NotificationPortal({ children }: { children: ReactNode }) {\n  const outletElement = useMemo(() => {\n    const element = document.createElement('div');\n    element.id = portalId;\n    return element;\n  }, []);\n\n  useLayoutEffect(() => {\n    document.body.querySelector(`#${portalId}`)?.remove();\n    document.body.appendChild(outletElement);\n  }, [outletElement]);\n\n  return createPortal(children, outletElement);\n}\n","import {\n  UpdateServiceWorkerMessage,\n  useServiceWorkerUpdate,\n} from 'app/core/providers/ServiceWorkerUpdateProvider';\nimport { useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { LinkButton } from '../link-button/LinkButton';\nimport { NotificationPosition } from '../notification/notification.types';\nimport { useNotification } from '../notification/NotificationProvider';\nimport styles from './ServiceWorkerUpdateNotification.module.scss';\n\n// TODO TEST\n\nexport function useServiceWorkerUpdateNotification() {\n  const hasUpdate = useServiceWorkerUpdate();\n  const notification = useNotification();\n\n  useEffect(() => {\n    if (hasUpdate) {\n      notification.open({\n        message: <ServiceWorkerUpdateMessage />,\n        position: NotificationPosition.Bottom,\n        isClosable: true,\n      });\n    }\n  }, [hasUpdate, notification]);\n}\n\nexport function ServiceWorkerUpdateMessage() {\n  const { t } = useTranslation();\n\n  const handleUpdate = () => {\n    const message: UpdateServiceWorkerMessage = { type: 'UPDATE_SERVICE_WORKER' };\n    window.postMessage(message, '*');\n  };\n\n  return (\n    <>\n      <span>{t('components.serviceWorkerUpdateNotification.message')}</span>\n\n      <LinkButton className={styles.updateButton} onClick={handleUpdate}>\n        {t('actions.update').toUpperCase()}\n      </LinkButton>\n    </>\n  );\n}\n","import { useTranslation } from 'react-i18next';\nimport { Helmet } from 'react-helmet-async';\nimport { memo } from 'react';\nimport { LoggedOutPage } from './logged-out/LoggedOutPage';\nimport { useAuthMachine } from './core/auth/AuthMachineProvider';\nimport { AuthMachineStateValue } from './core/auth/authMachine';\nimport { LoggedInPage } from './logged-in/LoggedInPage';\nimport { useServiceWorkerUpdateNotification } from './common/components/sw-update-notification/ServiceWorkerUpdateNotification';\n\nexport function App() {\n  const { i18n } = useTranslation();\n  const [authState] = useAuthMachine();\n  const isLoggedIn = authState.matches(AuthMachineStateValue.LoggedIn);\n\n  useServiceWorkerUpdateNotification();\n\n  return (\n    <>\n      <Helmet>\n        <html lang={i18n.languages[0]} />\n      </Helmet>\n\n      <AppComponent isLoggedIn={isLoggedIn} />\n    </>\n  );\n}\n\nconst AppComponent = memo(function AppComponent({ isLoggedIn }: { isLoggedIn: boolean }) {\n  return isLoggedIn ? <LoggedInPage /> : <LoggedOutPage />;\n});\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (\n    process.env.NODE_ENV === 'production' &&\n    !process.env.REACT_APP_E2E &&\n    'serviceWorker' in navigator\n  ) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { Profiler, StrictMode, Suspense } from 'react';\nimport ReactDOM from 'react-dom';\nimport 'styles/styles.scss';\nimport { App } from './app/App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\nimport { ConfigProvider } from 'app/core/configs/ConfigProvider';\nimport { I18nProvider } from 'app/core/i18n/I18nProvider';\nimport { GlobalProviders } from 'app/core/providers/GlobalProviders';\nimport { HelmetProvider } from 'react-helmet-async';\nimport { ThemeProvider } from 'app/core/providers/ThemeProvider';\nimport { HasServiceWorkerUpdateMessage } from 'app/core/providers/ServiceWorkerUpdateProvider';\n\nlet registerMockServiceWorker: (() => Promise<void>) | undefined;\n\nif (process.env.NODE_ENV === 'development' && !process.env.REACT_APP_E2E) {\n  // cannot be inside a function otherwise it will not be treeshaken\n  registerMockServiceWorker = async () => {\n    const { worker } = require('mocks/server/browser.mock');\n\n    await worker.start({\n      serviceWorker: {\n        url: `${process.env.PUBLIC_URL}/mockServiceWorker.js`,\n      },\n    });\n  };\n}\n\nstart();\n\nasync function start() {\n  redirectRoot();\n\n  await registerMockServiceWorker?.();\n\n  render();\n\n  registerServiceWorker();\n\n  // If you want to start measuring performance in your app, pass a function\n  // to log results (for example: reportWebVitals(console.log))\n  // or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n  reportWebVitals();\n}\n\n/**\n * https://github.com/w3c/ServiceWorker/issues/1468\n * due to a problem with service worker implementation when served from subdirectories,\n * setting react homepage property in package.json causes service workers to fail when not using trailing slash\n *\n * does't work -> http://localhost:3000/example\n *\n * works -> http://localhost:3000/example/\n */\nfunction redirectRoot() {\n  if (window.location.pathname === process.env.PUBLIC_URL) {\n    //\n    window.location.pathname = process.env.PUBLIC_URL + '/';\n  }\n}\n\nfunction registerServiceWorker() {\n  serviceWorkerRegistration.register({\n    onUpdate: (registration) => {\n      const waitingRegistration = registration.waiting;\n\n      if (waitingRegistration) {\n        window.addEventListener('message', (message) => {\n          if (message.data?.type === 'UPDATE_SERVICE_WORKER') {\n            waitingRegistration.addEventListener('statechange', () => {\n              if (waitingRegistration.state === 'activated') {\n                window.location.reload();\n              }\n            });\n\n            waitingRegistration.postMessage({ type: 'SKIP_WAITING' });\n          }\n        });\n\n        const message: HasServiceWorkerUpdateMessage = { type: 'HAS_SERVICE_WORKER_UPDATE' };\n        window.postMessage(message);\n      }\n    },\n  });\n}\n\nfunction render() {\n  ReactDOM.render(\n    <StrictMode>\n      <Profiler id=\"App\" onRender={() => {}}>\n        <BrowserRouter basename={process.env.REACT_APP_BASE_PATH}>\n          <HelmetProvider>\n            <ConfigProvider>\n              <I18nProvider>\n                <ThemeProvider>\n                  <GlobalProviders>\n                    <Suspense fallback={<div>Loading...</div>}>\n                      <App />\n                    </Suspense>\n                  </GlobalProviders>\n                </ThemeProvider>\n              </I18nProvider>\n            </ConfigProvider>\n          </HelmetProvider>\n        </BrowserRouter>\n      </Profiler>\n    </StrictMode>,\n    document.getElementById('root')\n  );\n}\n","import { FormatFunction } from 'i18next';\nimport { I18nConfig } from '../configs/i18n.config';\nimport { format as formatDate } from 'date-fns';\n\nexport const getI18nFormatter = (i18nConfig: I18nConfig): FormatFunction => (\n  value,\n  format,\n  language\n) => {\n  if (!language) {\n    return value;\n  }\n\n  if (typeof value === 'number') {\n    return new Intl.NumberFormat(language).format(value);\n  }\n\n  if (!format) {\n    return value;\n  }\n\n  if (value instanceof Date) {\n    const locale = getDateLocale(language, i18nConfig);\n    return formatDate(value, format, { locale });\n  }\n\n  return value;\n};\n\nfunction getDateLocale(language: string, i18nConfig: I18nConfig): Locale {\n  const locale = getLocale(language, i18nConfig);\n  if (locale) {\n    return locale;\n  }\n\n  const localeWithoutCulture = getLocale(language.split('-')[0]!, i18nConfig);\n  if (localeWithoutCulture) {\n    return localeWithoutCulture;\n  }\n\n  return i18nConfig.fallbackDateLocale;\n}\n\nfunction getLocale(language: string, i18nConfig: I18nConfig) {\n  return i18nConfig.dateLocales[language];\n}\n","import { ReactNode, useEffect } from 'react';\nimport i18next from 'i18next';\nimport { I18nextProvider } from 'react-i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport Backend from 'i18next-http-backend';\nimport { initReactI18next } from 'react-i18next';\nimport { useConfig } from '../configs/ConfigProvider';\nimport { getI18nFormatter } from './i18nFormat';\n\nexport function I18nProvider({ children }: { children: ReactNode }) {\n  const { i18nConfig } = useConfig();\n\n  useEffect(() => {\n    /* istanbul ignore next */\n    if (i18next.isInitialized) {\n      return;\n    }\n\n    i18next\n      .use(Backend)\n      .use(LanguageDetector)\n      .use(initReactI18next)\n      .init({\n        fallbackLng: i18nConfig.fallbackLanguage,\n        debug: process.env.NODE_ENV === 'development',\n        detection: {\n          order: ['localStorage', 'navigator', 'path'],\n          lookupLocalStorage: i18nConfig.localStorageKey,\n        },\n        backend: {\n          loadPath: `${process.env.PUBLIC_URL}/locales/{{lng}}/{{ns}}.json`,\n        },\n        interpolation: {\n          escapeValue: false, // not needed for react as it escapes by default\n          format: getI18nFormatter(i18nConfig),\n        },\n      });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return <I18nextProvider i18n={i18next}>{children}</I18nextProvider>;\n}\n","import { NotificationProvider } from 'app/common/components/notification/NotificationProvider';\nimport { ReactNode } from 'react';\nimport { ApiProvider } from '../api/ApiProvider';\nimport { ApiServicesProvider } from '../api/services/ApiServicesProvider';\nimport { AuthMachineProvider } from '../auth/AuthMachineProvider';\nimport { ServiceWorkerUpdateProvider } from './ServiceWorkerUpdateProvider';\n\nexport function GlobalProviders({ children }: { children: ReactNode }) {\n  return (\n    <ServiceWorkerUpdateProvider>\n      <NotificationProvider>\n        <ApiProvider>\n          <ApiServicesProvider>\n            <AuthMachineProvider>{children}</AuthMachineProvider>\n          </ApiServicesProvider>\n        </ApiProvider>\n      </NotificationProvider>\n    </ServiceWorkerUpdateProvider>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"LoginCard_title__2q_gs\",\"theme--dark\":\"LoginCard_theme--dark__16CA9\",\"card\":\"LoginCard_card__1qLR9\",\"form\":\"LoginCard_form__o7IpP\",\"field\":\"LoginCard_field__qpSKM\",\"error\":\"LoginCard_error__AC9Fi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"LoggedOutPage_title__35hi6\",\"theme--dark\":\"LoggedOutPage_theme--dark__12GP2\",\"backdrop\":\"LoggedOutPage_backdrop__3mVlB\",\"theme--light\":\"LoggedOutPage_theme--light__3tzh8\",\"card\":\"LoggedOutPage_card__CjSzL\",\"options\":\"LoggedOutPage_options__33jHr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"switch\":\"ThemeSwitch_switch__2tGCP\",\"theme--light\":\"ThemeSwitch_theme--light__19bMb\",\"theme--dark\":\"ThemeSwitch_theme--dark__1xX10\",\"icon\":\"ThemeSwitch_icon__3sjmS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enterAnimationDuration\":\"400ms\",\"exitAnimationDuration\":\"200ms\"};"],"sourceRoot":""}