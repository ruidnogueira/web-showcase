{"version":3,"sources":["app/common/components/notification/notification.module.scss","app/logged-out/LoggedOutShared.module.scss","app/common/components/language-select/LanguageSelect.module.scss","app/common/components/sw-update-notification/ServiceWorkerUpdateNotification.module.scss","assets/svg/spinner.svg","app/common/components/spinner/Spinner.tsx","app/common/components/notification/notification.types.ts","app/common/components/button/Button.tsx","app/common/components/form/Field.tsx","app/common/components/form/Label.tsx","app/common/components/input/Input.tsx","app/core/configs/constants.config.ts","app/core/models/styles.model.ts","app/core/configs/i18n.config.ts","app/core/configs/storage.config.ts","app/core/configs/ConfigProvider.tsx","app/core/api/api.ts","app/core/api/ApiProvider.tsx","app/core/api/services/authService.ts","app/core/api/services/ApiServicesProvider.tsx","app/core/auth/authMachine.ts","app/common/utils/browser.util.ts","app/common/utils/machine.util.ts","app/common/machines/fetchMachine.ts","app/core/auth/AuthMachineProvider.tsx","app/logged-out/login/login.types.ts","app/logged-out/login/loginMachine.ts","app/logged-out/login/useLoginCard.ts","app/logged-out/login/LoginCard.tsx","app/core/providers/ThemeProvider.tsx","app/common/components/select/Select.tsx","app/common/components/language-select/LanguageSelect.tsx","app/common/components/switch/Switch.tsx","app/common/components/theme-switch/ThemeSwitch.tsx","app/logged-out/LoggedOutPage.tsx","app/logged-in/LoggedInPage.tsx","app/core/providers/ServiceWorkerUpdateProvider.tsx","app/common/components/link-button/LinkButton.tsx","app/common/components/icon-button/IconButton.tsx","app/common/components/notification/Notification.tsx","app/common/hooks/useTimeout.ts","app/common/components/notification/NotificationManager.tsx","app/common/components/notification/NotificationProvider.tsx","app/common/components/sw-update-notification/ServiceWorkerUpdateNotification.tsx","app/App.tsx","serviceWorkerRegistration.ts","reportWebVitals.ts","index.tsx","app/core/i18n/i18nFormat.ts","app/core/i18n/I18nProvider.tsx","app/core/providers/GlobalProviders.tsx","app/logged-out/login/LoginCard.module.scss","app/logged-out/LoggedOutPage.module.scss","app/common/components/theme-switch/ThemeSwitch.module.scss"],"names":["module","exports","_g","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgSpinner","_ref","svgRef","title","titleId","props","width","height","viewBox","xmlns","stroke","ref","id","fill","fillRule","transform","strokeWidth","strokeOpacity","cx","cy","r","d","attributeName","type","from","to","dur","repeatCount","SpinnerColorVariant","NotificationPosition","ForwardRef","Spinner","color","isAlert","className","t","useTranslation","aria-busy","aria-live","classNames","aria-hidden","Button","children","disabled","isLoading","size","Field","Label","Input","ColorVariant","ControlSize","constants","defaultInputMaxLength","defaultNotificationPosition","TopRight","dateLocales","en","enGB","enUS","pt","ptPT","i18nConfig","localStorageKey","fallbackLanguage","fallbackDateLocale","supportedLanguages","code","name","storageKeys","theme","authToken","ConfigContext","createContext","undefined","ConfigProvider","config","currentConfig","useMemo","Provider","value","useConfig","context","useContext","Error","ajaxRequest","data","ajax","pipe","map","response","right","status","body","catchError","error","of","left","applyInterceptors","interceptors","reduceRight","previousInterceptor","currentInterceptor","ApiContext","ApiProvider","apiClient","appliedInterceptors","request","async","timeout","responseType","crossDomain","withCredentials","headers","get","url","method","post","put","patch","delete","createApiClient","createAuthService","api","login","user","apiPath","ApiServicesContext","ApiServicesProvider","useApiClient","services","authService","AuthMachineStateValue","getFromLocalStorage","getFromStorage","localStorage","saveToLocalStorage","item","saveToStorage","storage","serializedItem","getItem","JSON","parse","stringify","setItem","fixModelEventNames","events","forEach","event","defineProperty","FetchMachineStateValue","authModel","createModel","checkIfLoggedIn","token","logout","authEvents","AuthMachineContext","AuthMachineProvider","service","authMachine","createMachine","initialContext","initial","CheckingIfLoggedIn","states","on","LoggedIn","cond","Boolean","LoggedOut","entry","send","actions","removeItem","_","createAuthMachine","useMachine","devTools","process","defaultService","useAuthMachine","useActor","LoginError","fetchModel","fetch","receiveDataSuccess","receiveDataFailure","assignData","assignError","clearError","createFetchMachine","Idle","Pending","Success","Failure","invoke","src","meta","fetcher","createFetchModel","loginEvents","createLoginMachine","E","Invalid","Unexpected","useLoginCard","sendAuthEvent","useApiServices","loginMachine","useLoginMachine","loginState","sendLoginEvent","useEffect","matches","LoginMachineStateValue","useFormik","initialValues","email","password","validate","validateOnChange","validateOnBlur","onSubmit","values","handleSubmit","handleChange","errors","formError","isSubmitting","LoginCard","LoginCardPresentation","onChange","prefix","ids","styles","card","sharedStyles","form","ErrorMessage","message","field","htmlFor","maxLength","Primary","role","ThemeContext","ThemeProvider","initialTheme","useState","savedTheme","window","matchMedia","setTheme","themeToggled","useRef","themeState","toggleTheme","current","data-theme","useTheme","Select","dropdownClassName","menuItemSelectedIcon","virtual","prefixCls","inputIcon","Option","RcOption","LanguageSelect","i18n","languageSelect","Small","languages","changeLanguage","language","Switch","component","checked","defaultChecked","ThumbChildren","thumbChildren","onBlur","onFocus","isFocused","setIsFocused","isCheckedInternal","setIsChecked","isChecked","onMouseDown","preventDefault","ThemeSwitch","switch","aria-labelledby","icon","LoggedOutPage","backdrop","data-testid","options","LoggedInPage","onClick","ServiceWorkerUpdateContext","ServiceWorkerUpdateProvider","hasUpdate","setHasUpdate","checkIfUpdated","addEventListener","removeEventListener","LinkButton","IconButtonVariant","IconButton","variant","Transparent","Filled","Notification","forwardRef","isClosable","duration","onClose","isHovered","setIsHovered","callback","callbackRef","timer","setTimeout","clearTimeout","useTimeout","onMouseEnter","onMouseLeave","CloseButton","NotificationCard","enterDuration","parseFloat","enterAnimationDuration","exitDuration","exitAnimationDuration","NotificationManager","notifications","groupedNotifications","notificationDictionary","reduce","dictionary","notification","position","push","entries","NotificationContainer","isMounted","setIsMounted","notificationRef","CSSTransition","nodeRef","in","mountOnEnter","unmountOnExit","enter","exit","onExited","NotificationContext","portalId","NotificationProvider","notificationsRef","setNotifications","notificationActions","open","notificationId","uuid","notificationsToKeep","filter","concat","close","currentNotifications","closeAll","NotificationPortal","outletElement","element","document","createElement","useLayoutEffect","querySelector","remove","appendChild","createPortal","useServiceWorkerUpdateNotification","useServiceWorkerUpdate","useNotification","ServiceWorkerUpdateMessage","Bottom","updateButton","postMessage","toUpperCase","App","isLoggedIn","lang","AppComponent","memo","isLocalhost","location","hostname","match","register","REACT_APP_E2E","navigator","URL","href","origin","swUrl","then","contentType","serviceWorker","ready","registration","unregister","reload","registerValidSW","catch","console","log","checkValidServiceWorker","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","registerMockServiceWorker","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","getI18nFormatter","format","Intl","NumberFormat","Date","locale","getLocale","localeWithoutCulture","split","getDateLocale","formatDate","I18nProvider","i18next","isInitialized","use","Backend","LanguageDetector","initReactI18next","init","fallbackLng","debug","detection","order","lookupLocalStorage","backend","loadPath","interpolation","escapeValue","I18nextProvider","GlobalProviders","a","redirectRoot","render","registerServiceWorker","pathname","serviceWorkerRegistration","waitingRegistration","waiting","ReactDOM","onRender","basename","fallback","getElementById","start"],"mappings":"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","file":"static/js/main.bd9b07bc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"enterAnimationDuration\":\"400ms\",\"exitAnimationDuration\":\"200ms\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"LoggedOutShared_title__2rS1b\",\"theme--dark\":\"LoggedOutShared_theme--dark__1v7P5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"languageSelect\":\"LanguageSelect_languageSelect__3lQgc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"updateButton\":\"ServiceWorkerUpdateNotification_updateButton__347Jn\"};","var _g;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSpinner(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 38,\n    height: 38,\n    viewBox: \"0 0 38 38\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    stroke: \"#fff\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(1 1)\",\n    strokeWidth: 2\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    strokeOpacity: 0.5,\n    cx: 18,\n    cy: 18,\n    r: 18\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M36 18c0-9.94-8.06-18-18-18\"\n  }, /*#__PURE__*/React.createElement(\"animateTransform\", {\n    attributeName: \"transform\",\n    type: \"rotate\",\n    from: \"0 18 18\",\n    to: \"360 18 18\",\n    dur: \"1s\",\n    repeatCount: \"indefinite\"\n  }))))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSpinner);\nexport default __webpack_public_path__ + \"static/media/spinner.bdb71bd5.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactComponent as SpinnerSvg } from 'assets/svg/spinner.svg';\nimport { SVGAttributes } from 'react';\nimport classNames from 'classnames';\nimport { useTranslation } from 'react-i18next';\nimport { VisuallyHidden } from '@reach/visually-hidden';\nimport { ColorVariant } from 'app/core/models/styles.model';\n\nexport enum SpinnerColorVariant {\n  Inverted = 'inverted',\n}\n\nexport interface SpinnerProps extends SVGAttributes<SVGElement> {\n  /**\n   * The color variant of the spinner\n   */\n  color?: ColorVariant | SpinnerColorVariant;\n\n  /**\n   * Whether the spinner should be read by screen readers\n   */\n  isAlert?: boolean;\n}\n\nexport function Spinner({ color, isAlert, className, ...props }: SpinnerProps) {\n  const { t } = useTranslation();\n\n  return (\n    <>\n      <VisuallyHidden aria-busy={true} aria-live={isAlert ? 'assertive' : 'polite'}>\n        {t('states.loading')}\n      </VisuallyHidden>\n      <SpinnerSvg\n        {...props}\n        className={classNames('spinner', { [`spinner--${color}`]: color }, className)}\n        aria-hidden={true}\n      />\n    </>\n  );\n}\n","import { ReactNode } from 'react';\n\nexport type NotificationId = number | string;\n\nexport enum NotificationPosition {\n  Top = 'top',\n  TopLeft = 'top-left',\n  TopRight = 'top-right',\n  Bottom = 'bottom',\n  BottomLeft = 'bottom-left',\n  BottomRight = 'bottom-right',\n}\n\nexport interface NotificationConfig {\n  id: NotificationId;\n  message: ReactNode;\n  position: NotificationPosition;\n  duration?: number;\n  isClosable?: boolean;\n  onClose: () => void;\n}\n","import { ButtonHTMLAttributes } from 'react';\nimport classNames from 'classnames';\nimport { ColorVariant, ControlSize } from 'app/core/models/styles.model';\nimport { Spinner } from '../spinner/Spinner';\n\nexport interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  type?: 'submit' | 'reset' | 'button';\n\n  /**\n   * The color variant of the button\n   */\n  color?: ColorVariant;\n\n  /**\n   * The size of the button\n   */\n  size?: ControlSize;\n\n  /**\n   * Whether the loading spinner is visible\n   */\n  isLoading?: boolean;\n}\n\nexport function Button({\n  children,\n  disabled,\n  isLoading,\n  className,\n  color,\n  size,\n  type = 'button',\n  ...props\n}: ButtonProps) {\n  return (\n    <button\n      {...props}\n      type={type}\n      className={classNames(\n        'button',\n        { [`button--${color}`]: color, [`button--${size}`]: size },\n        className\n      )}\n      disabled={disabled || isLoading}\n      aria-busy={isLoading}\n    >\n      {isLoading ? <Spinner className=\"button__spinner\" /> : children}\n    </button>\n  );\n}\n","import { HTMLAttributes } from 'react';\nimport classNames from 'classnames';\n\nexport function Field({ className, ...props }: HTMLAttributes<HTMLDivElement>) {\n  return <div {...props} className={classNames('field', className)} />;\n}\n","import { LabelHTMLAttributes } from 'react';\nimport classNames from 'classnames';\n\nexport function Label({ className, children, ...props }: LabelHTMLAttributes<HTMLLabelElement>) {\n  return (\n    <label {...props} className={classNames('label', className)}>\n      {children}\n    </label>\n  );\n}\n","import { InputHTMLAttributes } from 'react';\nimport classNames from 'classnames';\nimport { ColorVariant, ControlSize } from 'app/core/models/styles.model';\n\nexport interface InputProps extends Omit<InputHTMLAttributes<HTMLInputElement>, 'size'> {\n  /**\n   * The color variant of the input\n   */\n  color?: ColorVariant;\n\n  /**\n   * The size of the input\n   */\n  size?: ControlSize;\n}\n\nexport function Input({ className, color, size, ...props }: InputProps) {\n  return (\n    <input\n      {...props}\n      className={classNames(\n        'input',\n        { [`input--${color}`]: color, [`input--${size}`]: size },\n        className\n      )}\n    />\n  );\n}\n","import { NotificationPosition } from 'app/common/components/notification/notification.types';\n\nexport const constants = {\n  defaultInputMaxLength: 255,\n  defaultNotificationPosition: NotificationPosition.TopRight,\n};\n\nexport type Constants = typeof constants;\n","export enum ColorVariant {\n  Primary = 'primary',\n  Error = 'error',\n}\n\nexport enum ControlSize {\n  Small = 'small',\n}\n","// date-fns locales must be imported individually otherwise\n// all locales will be included in the bundle\nimport enGB from 'date-fns/locale/en-GB';\nimport enUS from 'date-fns/locale/en-US';\nimport ptPT from 'date-fns/locale/pt';\n\nconst dateLocales: Record<string, Locale> = {\n  en: enGB,\n  'en-US': enUS,\n  pt: ptPT,\n};\n\nexport const i18nConfig = {\n  localStorageKey: 'appLanguage',\n  fallbackLanguage: 'en-GB',\n  fallbackDateLocale: enGB,\n  dateLocales,\n  supportedLanguages: [\n    { code: 'en-GB', name: 'English (GB)' },\n    { code: 'en-US', name: 'English (US)' },\n    { code: 'pt-PT', name: 'PortuguÃªs (Portugal)' },\n  ],\n};\n\nexport type I18nConfig = typeof i18nConfig;\n","export const storageKeys = {\n  theme: 'theme',\n  authToken: 'auth-token',\n};\n\nexport type StorageKeys = typeof storageKeys;\n","import { createContext, ReactNode, useContext, useMemo } from 'react';\nimport { constants, Constants } from './constants.config';\nimport { I18nConfig, i18nConfig } from './i18n.config';\nimport { storageKeys, StorageKeys } from './storage.config';\n\nexport interface GlobalConfig {\n  i18nConfig: I18nConfig;\n  storageKeys: StorageKeys;\n  constants: Constants;\n}\n\nconst ConfigContext = createContext<GlobalConfig | undefined>(undefined);\n\nexport function ConfigProvider({\n  children,\n  config,\n}: {\n  children: ReactNode;\n  config?: Partial<GlobalConfig>;\n}) {\n  const currentConfig: GlobalConfig = useMemo(\n    () => ({\n      i18nConfig,\n      storageKeys,\n      constants,\n      ...config,\n    }),\n    [config]\n  );\n\n  return <ConfigContext.Provider value={currentConfig}>{children}</ConfigContext.Provider>;\n}\n\nexport function useConfig() {\n  const context = useContext(ConfigContext);\n\n  if (context === undefined) {\n    throw new Error('useConfig must be used within ConfigProvider');\n  }\n\n  return context;\n}\n","import { Observable, of } from 'rxjs';\nimport { ajax, AjaxError, AjaxRequest } from 'rxjs/ajax';\nimport { catchError, map } from 'rxjs/operators';\nimport {\n  AppliedInterceptor,\n  Interceptor,\n  ApiClient,\n  ApiResponseEither,\n  ApiRequest,\n} from './api.types';\nimport { left, right } from 'fp-ts/lib/Either';\n\nexport function createApiClient(interceptors: Interceptor[] = []): ApiClient {\n  const appliedInterceptors = applyInterceptors(interceptors);\n  const call = <T>(request: ApiRequest) =>\n    appliedInterceptors<T>({\n      async: true,\n      timeout: 0,\n      responseType: 'json',\n      crossDomain: false,\n      withCredentials: false,\n      ...request,\n      headers: {\n        'Content-Type': 'application/json',\n        ...(request.headers || {}),\n      },\n    });\n\n  return {\n    call,\n    get: (url, headers) => call({ method: 'GET', url, headers }),\n    post: (url, body, headers) => call({ method: 'POST', url, body, headers }),\n    put: (url, body, headers) => call({ method: 'PUT', url, body, headers }),\n    patch: (url, body, headers) => call({ method: 'PATCH', url, body, headers }),\n    delete: (url, headers) => call({ method: 'DELETE', url, headers }),\n  };\n}\n\nconst ajaxRequest = <Data>(data: AjaxRequest): Observable<ApiResponseEither<Data>> =>\n  ajax<Data>(data).pipe(\n    map((response) => right({ status: response.status, body: response.response })),\n    catchError((error: AjaxError) => of(left({ status: error.status, body: error.response })))\n  );\n\nfunction applyInterceptors(interceptors: Interceptor[]) {\n  return interceptors.reduceRight<AppliedInterceptor>(\n    (previousInterceptor, currentInterceptor) => (data: AjaxRequest) =>\n      currentInterceptor(data, previousInterceptor),\n    ajaxRequest\n  );\n}\n","import { createContext, ReactNode, useContext, useMemo } from 'react';\nimport { createApiClient } from './api';\nimport { ApiClient } from './api.types';\n\nconst ApiContext = createContext<ApiClient | undefined>(undefined);\n\nexport function ApiProvider({ children }: { children: ReactNode }) {\n  const apiClient = useMemo(() => createApiClient([]), []);\n\n  return <ApiContext.Provider value={apiClient}>{children}</ApiContext.Provider>;\n}\n\nexport function useApiClient() {\n  const context = useContext(ApiContext);\n\n  if (context === undefined) {\n    throw new Error('useApiClient must be used within ApiProvider');\n  }\n\n  return context;\n}\n","import { ApiAuthToken, ApiCreateAuthTokenRequest } from 'app/core/models/auth.model';\nimport { Observable } from 'rxjs';\nimport { ApiClient, ApiResponseEither } from '../api.types';\nimport { Reader } from 'fp-ts/lib/Reader';\n\nexport interface AuthService {\n  login: (user: ApiCreateAuthTokenRequest) => Observable<ApiResponseEither<ApiAuthToken>>;\n}\n\nconst apiPath = process.env.REACT_APP_API_PATH;\n\nexport const createAuthService: Reader<{ api: ApiClient }, AuthService> = ({ api }) => ({\n  login: (user) => api.post(apiPath + '/auth-token', user),\n});\n","import { createContext, ReactNode, useContext, useMemo } from 'react';\nimport { useApiClient } from '../ApiProvider';\nimport { AuthService, createAuthService } from './authService';\n\ninterface ApiServices {\n  authService: AuthService;\n}\n\nconst ApiServicesContext = createContext<ApiServices | undefined>(undefined);\n\nexport function ApiServicesProvider({ children }: { children: ReactNode }) {\n  const api = useApiClient();\n\n  const services: ApiServices = useMemo(\n    () => ({\n      authService: createAuthService({ api }),\n    }),\n    [api]\n  );\n\n  return <ApiServicesContext.Provider value={services}>{children}</ApiServicesContext.Provider>;\n}\n\nexport function useApiServices() {\n  const context = useContext(ApiServicesContext);\n\n  if (context === undefined) {\n    throw new Error('useApiServices must be used within ApiServicesContext');\n  }\n\n  return context;\n}\n","import { getFromLocalStorage, saveToLocalStorage } from 'app/common/utils/browser.util';\nimport { Reader } from 'fp-ts/lib/Reader';\nimport { ContextFrom, EventFrom, send, StateMachine, ExtractEvent } from 'xstate';\nimport { StorageKeys } from 'app/core/configs/storage.config';\nimport { ApiAuthToken } from '../models/auth.model';\nimport { createModel } from 'xstate/lib/model';\nimport { fixModelEventNames } from 'app/common/utils/machine.util';\n\nexport type AuthMachineContext = ContextFrom<typeof authModel>;\nexport type AuthMachineEvent = EventFrom<typeof authModel>;\n\nexport enum AuthMachineStateValue {\n  CheckingIfLoggedIn = 'checkingIfLoggedIn',\n  LoggedIn = 'loggedIn',\n  LoggedOut = 'loggedOut',\n}\n\nexport type AuthMachineState = {\n  value: AuthMachineStateValue;\n  context: AuthMachineContext;\n};\n\nconst authModel = createModel(\n  {},\n  {\n    events: {\n      checkIfLoggedIn: () => ({}),\n      login: (token: ApiAuthToken) => ({ token }),\n      logout: () => ({}),\n    },\n  }\n);\n\nexport const authEvents = fixModelEventNames(authModel.events);\n\nexport const createAuthMachine: Reader<\n  { storageKeys: StorageKeys },\n  StateMachine<AuthMachineContext, any, AuthMachineEvent, AuthMachineState>\n> = ({ storageKeys }) => {\n  const storeToken = (_: any, event: ExtractEvent<AuthMachineEvent, 'login'>) =>\n    saveToLocalStorage(storageKeys.authToken, event.token);\n\n  const clearToken = () => localStorage.removeItem(storageKeys.authToken);\n\n  const isLoggedIn = () => Boolean(getFromLocalStorage<ApiAuthToken>(storageKeys.authToken));\n\n  return authModel.createMachine({\n    id: 'auth',\n    context: authModel.initialContext,\n    initial: AuthMachineStateValue.CheckingIfLoggedIn,\n    states: {\n      [AuthMachineStateValue.CheckingIfLoggedIn]: {\n        on: {\n          checkIfLoggedIn: [\n            {\n              target: AuthMachineStateValue.LoggedIn,\n              cond: isLoggedIn,\n            },\n            { target: AuthMachineStateValue.LoggedOut },\n          ],\n        },\n        entry: send(authEvents.checkIfLoggedIn()),\n      },\n\n      [AuthMachineStateValue.LoggedIn]: {\n        on: {\n          logout: {\n            target: AuthMachineStateValue.LoggedOut,\n            actions: clearToken,\n          },\n        },\n      },\n\n      [AuthMachineStateValue.LoggedOut]: {\n        on: {\n          login: {\n            target: AuthMachineStateValue.LoggedIn,\n            actions: storeToken,\n          },\n        },\n      },\n    },\n  });\n};\n","export const getFromLocalStorage = <T>(key: string) => getFromStorage<T>(localStorage, key);\nexport const saveToLocalStorage = <T>(key: string, item: T) =>\n  saveToStorage<T>(localStorage, key, item);\n\nexport const getFromSessionStorage = <T>(key: string) => getFromStorage<T>(sessionStorage, key);\nexport const saveToSessionStorage = <T>(key: string, item: T) =>\n  saveToStorage<T>(sessionStorage, key, item);\n\n/**\n * Gets item from session storage, if it does not exist gets from local storage\n */\nexport const getFromEitherStorage = <T>(key: string) =>\n  getFromSessionStorage<T>(key) ?? getFromLocalStorage<T>(key);\n\nconst getFromStorage = <T>(storage: Storage, key: string): T | undefined => {\n  try {\n    const serializedItem = storage.getItem(key);\n    if (serializedItem === null) {\n      return undefined;\n    }\n\n    return JSON.parse(serializedItem);\n  } catch {\n    // did not find a way to test with jsdom\n    // istanbul ignore next\n    return undefined;\n  }\n};\n\nconst saveToStorage = <T>(storage: Storage, key: string, item: T) => {\n  try {\n    const serializedItem = JSON.stringify(item);\n    storage.setItem(key, serializedItem);\n  } catch {\n    // Do nothing if we can't write to local storage\n  }\n};\n","/**\n * Workaround. Some environments don't properly assign a name to functions (ex: jest).\n * Remove this once the problem is fixed.\n */\nexport function fixModelEventNames<T extends Record<string, (...args: any) => any>>(events: T) {\n  Object.keys(events).forEach((event) => {\n    Object.defineProperty(events[event], 'name', { value: event });\n  });\n\n  return events;\n}\n","import { InvokeCreator, ContextFrom, EventFrom, ExtractEvent } from 'xstate';\nimport { createModel } from 'xstate/lib/model';\nimport { fixModelEventNames } from '../utils/machine.util';\n\ntype DefaultRequestData = unknown;\ntype DefaultResponseData = unknown;\ntype DefaultResponseError = Error;\n\nexport type FetchMachineContext<\n  ResponseData = DefaultResponseData,\n  ResponseError = DefaultResponseError\n> = {\n  data?: ResponseData;\n  error?: ResponseError;\n};\n\nexport enum FetchMachineStateValue {\n  Idle = 'idle',\n  Pending = 'pending',\n  Success = 'success',\n  Failure = 'failure',\n}\n\nexport type FetchMachineState<ResponseData, ResponseError> =\n  | {\n      value: FetchMachineStateValue.Idle;\n      context: {};\n    }\n  | {\n      value: FetchMachineStateValue.Pending;\n      context: {\n        data?: ResponseData;\n        error?: ResponseError;\n      };\n    }\n  | {\n      value: FetchMachineStateValue.Success;\n      context: {\n        data: ResponseData;\n        error?: undefined;\n      };\n    }\n  | {\n      value: FetchMachineStateValue.Failure;\n      context: {\n        data?: ResponseData;\n        error: ResponseError;\n      };\n    };\n\nexport function createFetchModel<\n  RequestData = DefaultRequestData,\n  ResponseData = DefaultResponseData,\n  ResponseError = DefaultResponseError\n>() {\n  const fetchModel = createModel({} as FetchMachineContext<ResponseData, ResponseError>, {\n    events: {\n      fetch: (data: RequestData) => ({ data }),\n      receiveDataSuccess: (data: ResponseData) => ({ data }),\n      receiveDataFailure: (data: ResponseError) => ({ data }),\n    },\n  });\n\n  fixModelEventNames(fetchModel.events);\n\n  const assignData = fetchModel.assign(\n    (_, event) => ({\n      data: event.data,\n    }),\n    'receiveDataSuccess'\n  );\n\n  const assignError = fetchModel.assign(\n    (_, event) => ({\n      error: event.data,\n    }),\n    'receiveDataFailure'\n  );\n\n  const clearError = fetchModel.assign((_) => ({\n    error: undefined,\n  }));\n\n  const createFetchMachine = (config: {\n    id: string;\n    fetcher: InvokeCreator<\n      ContextFrom<typeof fetchModel>,\n      ExtractEvent<EventFrom<typeof fetchModel>, 'fetch'>,\n      FetchMachineState<ResponseData, ResponseError>\n    >;\n  }) =>\n    fetchModel.createMachine({\n      id: config.id,\n      context: fetchModel.initialContext,\n      initial: FetchMachineStateValue.Idle,\n      states: {\n        [FetchMachineStateValue.Idle]: {\n          on: {\n            fetch: FetchMachineStateValue.Pending,\n          },\n        },\n\n        [FetchMachineStateValue.Pending]: {\n          on: {\n            fetch: FetchMachineStateValue.Pending,\n            receiveDataSuccess: {\n              target: FetchMachineStateValue.Success,\n              actions: [assignData, clearError],\n            },\n            receiveDataFailure: {\n              target: FetchMachineStateValue.Failure,\n              actions: assignError,\n            },\n          },\n          invoke: {\n            src: (context, event, meta) =>\n              event.type === 'fetch' ? config.fetcher(context, event, meta) : () => {},\n          },\n        },\n\n        [FetchMachineStateValue.Success]: {\n          on: {\n            fetch: FetchMachineStateValue.Pending,\n          },\n        },\n\n        [FetchMachineStateValue.Failure]: {\n          on: {\n            fetch: FetchMachineStateValue.Pending,\n          },\n        },\n      },\n    });\n\n  return { fetchModel, createFetchMachine };\n}\n","import { createContext, ReactNode, useContext, useMemo } from 'react';\nimport { useActor, useMachine } from '@xstate/react';\nimport { Interpreter } from 'xstate';\nimport {\n  AuthMachineContext as MachineContext,\n  AuthMachineEvent,\n  AuthMachineState,\n  createAuthMachine,\n} from './authMachine';\nimport { useConfig } from '../configs/ConfigProvider';\n\nconst AuthMachineContext = createContext<\n  Interpreter<MachineContext, any, AuthMachineEvent, AuthMachineState> | undefined\n>(undefined);\n\nexport function AuthMachineProvider({\n  children,\n  service,\n}: {\n  children: ReactNode;\n  service?: Interpreter<MachineContext, any, AuthMachineEvent, AuthMachineState>;\n}) {\n  const { storageKeys } = useConfig();\n\n  const authMachine = useMemo(() => createAuthMachine({ storageKeys }), [storageKeys]);\n  const [, , defaultService] = useMachine(authMachine, {\n    devTools: process.env.NODE_ENV === 'development',\n  });\n\n  return (\n    <AuthMachineContext.Provider value={service ?? defaultService}>\n      {children}\n    </AuthMachineContext.Provider>\n  );\n}\n\nexport function useAuthMachine() {\n  const service = useContext(AuthMachineContext);\n\n  if (service === undefined) {\n    throw new Error('useAuthMachine must be used within AuthMachineProvider');\n  }\n\n  const [state, send] = useActor(service);\n  return [state, send, service] as const;\n}\n","export enum LoginError {\n  Invalid = 'INVALID',\n  Unexpected = 'UNEXPECTED',\n}\n\nexport interface LoginForm {\n  email: string;\n  password: string;\n}\n","import { createFetchModel, FetchMachineState } from 'app/common/machines/fetchMachine';\nimport { AuthService } from 'app/core/api/services/authService';\nimport { ApiAuthToken, ApiCreateAuthTokenRequest } from 'app/core/models/auth.model';\nimport { Reader } from 'fp-ts/lib/Reader';\nimport { map } from 'rxjs/operators';\nimport * as E from 'fp-ts/lib/Either';\nimport { pipe } from 'fp-ts/lib/function';\nimport { LoginError } from './login.types';\nimport { ContextFrom, EventFrom, StateMachine } from 'xstate';\n\nexport type LoginMachineContext = ContextFrom<typeof fetchModel>;\nexport type LoginMachineEvent = EventFrom<typeof fetchModel>;\nexport type LoginMachineState = FetchMachineState<ApiAuthToken, LoginError>;\nexport { FetchMachineStateValue as LoginMachineStateValue } from 'app/common/machines/fetchMachine';\n\nconst { fetchModel, createFetchMachine } = createFetchModel<\n  ApiCreateAuthTokenRequest,\n  ApiAuthToken,\n  LoginError\n>();\n\nexport const loginEvents = fetchModel.events;\n\nexport const createLoginMachine: Reader<\n  { authService: AuthService },\n  StateMachine<LoginMachineContext, any, LoginMachineEvent, LoginMachineState>\n> = ({ authService }) => {\n  const login = (token: ApiCreateAuthTokenRequest) =>\n    authService.login(token).pipe(\n      map((response) =>\n        pipe(\n          response,\n\n          E.match(\n            (error) =>\n              loginEvents.receiveDataFailure(\n                error.status === 401 ? LoginError.Invalid : LoginError.Unexpected\n              ) as LoginMachineEvent,\n\n            (response) => loginEvents.receiveDataSuccess(response.body) as LoginMachineEvent\n          )\n        )\n      )\n    );\n\n  return createFetchMachine({\n    id: 'login',\n    fetcher: (_, event) => login(event.data),\n  });\n};\n","import { useMachine } from '@xstate/react';\nimport { useApiServices } from 'app/core/api/services/ApiServicesProvider';\nimport { useAuthMachine } from 'app/core/auth/AuthMachineProvider';\nimport { useEffect, useMemo } from 'react';\nimport { createLoginMachine, loginEvents, LoginMachineStateValue } from './loginMachine';\nimport { FormikErrors, useFormik } from 'formik';\nimport { LoginError, LoginForm } from './login.types';\nimport { authEvents } from 'app/core/auth/authMachine';\n\nexport function useLoginCard() {\n  const [, sendAuthEvent] = useAuthMachine();\n  const [loginState, sendLoginEvent] = useLoginMachine();\n\n  useEffect(() => {\n    if (loginState.matches(LoginMachineStateValue.Success)) {\n      sendAuthEvent(authEvents.login(loginState.context.data));\n    }\n  }, [loginState, sendAuthEvent]);\n\n  const { handleSubmit, handleChange, values, errors } = useFormik<LoginForm>({\n    initialValues: {\n      email: '',\n      password: '',\n    },\n\n    validate,\n    validateOnChange: false,\n    validateOnBlur: false,\n\n    onSubmit: (values) => {\n      sendLoginEvent(loginEvents.fetch(values));\n    },\n  });\n\n  const formError = Object.keys(errors).length > 0 ? LoginError.Invalid : undefined;\n\n  const isSubmitting = loginState.matches(LoginMachineStateValue.Pending);\n\n  return {\n    isSubmitting,\n    error: formError ?? loginState.context.error,\n    values,\n    handleChange,\n    handleSubmit,\n  };\n}\n\nfunction useLoginMachine() {\n  const { authService } = useApiServices();\n\n  const loginMachine = useMemo(() => createLoginMachine({ authService }), [authService]);\n\n  return useMachine(loginMachine, { devTools: process.env.NODE_ENV === 'development' });\n}\n\nfunction validate(values: LoginForm): FormikErrors<LoginForm> {\n  const errors: FormikErrors<LoginForm> = {};\n\n  if (!values.email) {\n    errors.email = 'required';\n  }\n\n  if (!values.password) {\n    errors.password = 'required';\n  }\n\n  return errors;\n}\n","import { Button } from 'app/common/components/button/Button';\nimport { Field } from 'app/common/components/form/Field';\nimport { Label } from 'app/common/components/form/Label';\nimport { Input } from 'app/common/components/input/Input';\nimport { useConfig } from 'app/core/configs/ConfigProvider';\nimport { ColorVariant } from 'app/core/models/styles.model';\nimport { useTranslation } from 'react-i18next';\nimport styles from './LoginCard.module.scss';\nimport sharedStyles from '../LoggedOutShared.module.scss';\nimport classNames from 'classnames';\nimport { useLoginCard } from './useLoginCard';\nimport { ChangeEvent, FormEvent } from 'react';\nimport { LoginError, LoginForm } from './login.types';\n\nexport interface LoginCardProps {\n  className?: string;\n}\n\nexport interface LoginCardPresentationProps extends LoginCardProps {\n  values: LoginForm;\n  error?: LoginError;\n  isSubmitting?: boolean;\n  onChange: (event: ChangeEvent<HTMLElement>) => void;\n  onSubmit: (event: FormEvent<HTMLFormElement>) => void;\n}\n\nexport function LoginCard(props: LoginCardProps) {\n  const { isSubmitting, error, values, handleChange, handleSubmit } = useLoginCard();\n\n  return (\n    <LoginCardPresentation\n      {...props}\n      isSubmitting={isSubmitting}\n      error={error}\n      values={values}\n      onChange={handleChange}\n      onSubmit={handleSubmit}\n    />\n  );\n}\n\nconst prefix = 'login_card-';\n\nconst ids = {\n  email: prefix + 'email',\n  password: prefix + 'password',\n};\n\nexport function LoginCardPresentation({\n  className,\n  error,\n  isSubmitting,\n  values,\n  onChange,\n  onSubmit,\n}: LoginCardPresentationProps) {\n  const { constants } = useConfig();\n  const { t } = useTranslation();\n\n  return (\n    <div className={classNames(styles.card, className)}>\n      <h1 className={sharedStyles.title}>{t('pages.login.title')}</h1>\n\n      <form className={styles.form} onSubmit={onSubmit}>\n        {error === LoginError.Invalid && (\n          <ErrorMessage message={t('pages.login.errors.invalidLogin')} />\n        )}\n        {error === LoginError.Unexpected && (\n          <ErrorMessage message={t('pages.login.errors.unexpected')} />\n        )}\n\n        <Field className={styles.field}>\n          <Label htmlFor={ids.email}>{t('props.user.email')}</Label>\n          <Input\n            id={ids.email}\n            name=\"email\"\n            type=\"email\"\n            className=\"input\"\n            maxLength={constants.defaultInputMaxLength}\n            disabled={isSubmitting}\n            value={values.email}\n            onChange={onChange}\n          />\n        </Field>\n\n        <Field className={styles.field}>\n          <Label htmlFor={ids.password}>{t('props.user.password')}</Label>\n          <Input\n            id={ids.password}\n            name=\"password\"\n            type=\"password\"\n            className=\"input\"\n            maxLength={constants.defaultInputMaxLength}\n            disabled={isSubmitting}\n            value={values.password}\n            onChange={onChange}\n          />\n        </Field>\n\n        <Button type=\"submit\" color={ColorVariant.Primary} isLoading={isSubmitting}>\n          {t('pages.login.submit')}\n        </Button>\n      </form>\n    </div>\n  );\n}\n\nfunction ErrorMessage({ message }: { message: string }) {\n  return (\n    <div className={classNames('help help--error', styles.error)} role=\"alert\">\n      {message}\n    </div>\n  );\n}\n","import { getFromLocalStorage, saveToLocalStorage } from 'app/common/utils/browser.util';\nimport { createContext, ReactNode, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { useConfig } from '../configs/ConfigProvider';\n\nexport type Theme = 'light' | 'dark';\n\nexport const ThemeContext = createContext<{ theme: Theme; toggleTheme: () => void } | undefined>(\n  undefined\n);\n\nexport function ThemeProvider({\n  children,\n  initialTheme,\n}: {\n  children: ReactNode;\n  initialTheme?: Theme;\n}) {\n  const { storageKeys } = useConfig();\n\n  const [theme, setTheme] = useState<Theme>(() => {\n    if (initialTheme) {\n      return initialTheme;\n    }\n\n    const savedTheme = getFromLocalStorage<Theme>(storageKeys.theme);\n    if (savedTheme) {\n      return savedTheme;\n    }\n\n    return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n  });\n\n  const themeToggled = useRef(false);\n\n  useEffect(() => {\n    if (themeToggled) {\n      saveToLocalStorage(storageKeys.theme, theme);\n    }\n  }, [storageKeys.theme, theme]);\n\n  const themeState = useMemo(() => {\n    const toggleTheme = () => {\n      themeToggled.current = true;\n      setTheme((theme) => (theme === 'light' ? 'dark' : 'light'));\n    };\n\n    return { theme, toggleTheme };\n  }, [theme]);\n\n  return (\n    <>\n      <Helmet>\n        <html data-theme={theme} />\n      </Helmet>\n      <ThemeContext.Provider value={themeState}>{children}</ThemeContext.Provider>\n    </>\n  );\n}\n\nexport function useTheme() {\n  const context = useContext(ThemeContext);\n\n  if (context === undefined) {\n    throw new Error('useTheme must be used within ThemeProvider');\n  }\n\n  return context;\n}\n","import RcSelect, { Option as RcOption, SelectProps as RcSelectProps } from 'rc-select';\nimport { DefaultValueType } from 'rc-select/lib/interface/generator';\nimport { OptionProps as RcSelectOptionprops } from 'rc-select/lib/Option';\nimport classNames from 'classnames';\nimport { ChevronDown } from 'react-feather';\nimport { ColorVariant, ControlSize } from 'app/core/models/styles.model';\nimport { useTheme } from 'app/core/providers/ThemeProvider';\n\nexport type SelectValue = DefaultValueType;\nexport type SelectOptionProps = RcSelectOptionprops;\n\nexport interface SelectProps<Value extends SelectValue> extends RcSelectProps<Value> {\n  /**\n   * The color variant of the select\n   */\n  color?: ColorVariant;\n\n  /**\n   * The size of the select\n   */\n  size?: ControlSize;\n}\n\nexport function Select<Value extends SelectValue>({\n  className,\n  dropdownClassName,\n  size,\n  color,\n  menuItemSelectedIcon = null,\n  virtual = false,\n  ...props\n}: SelectProps<Value>) {\n  const { theme } = useTheme();\n\n  return (\n    <RcSelect<Value>\n      {...props}\n      prefixCls=\"select\"\n      className={classNames({ [`select--${color}`]: color, [`select--${size}`]: size }, className)}\n      dropdownClassName={classNames(\n        { [`select-dropdown--${size}`]: size },\n        `theme--${theme}`,\n        dropdownClassName\n      )}\n      virtual={virtual}\n      menuItemSelectedIcon={menuItemSelectedIcon}\n      inputIcon={<ChevronDown />}\n    />\n  );\n}\n\nSelect.Option = RcOption;\n","import { ControlSize } from 'app/core/models/styles.model';\nimport { useTranslation } from 'react-i18next';\nimport { Select } from 'app/common/components/select/Select';\nimport styles from './LanguageSelect.module.scss';\nimport { useConfig } from 'app/core/configs/ConfigProvider';\n\nexport function LanguageSelect() {\n  const { i18nConfig } = useConfig();\n  const { i18n } = useTranslation();\n\n  const handleLanguageChange = (code: string) => {\n    i18n.changeLanguage(code);\n  };\n\n  return (\n    <Select\n      className={styles.languageSelect}\n      size={ControlSize.Small}\n      value={i18n.languages[0]}\n      onChange={handleLanguageChange}\n    >\n      {i18nConfig.supportedLanguages.map((language) => (\n        <Select.Option key={language.code} value={language.code}>\n          {language.name}\n        </Select.Option>\n      ))}\n    </Select>\n  );\n}\n","import { ColorVariant, ControlSize } from 'app/core/models/styles.model';\nimport classNames from 'classnames';\nimport { AriaAttributes, ChangeEvent, ComponentType, FocusEvent, ReactNode, useState } from 'react';\n\nexport type SwitchProps = {\n  /**\n   * The color variant of the switch\n   */\n  color?: ColorVariant;\n\n  /**\n   * The size of the switch\n   */\n  size?: ControlSize;\n\n  id?: string;\n  className?: string;\n  checked?: boolean;\n  defaultChecked?: boolean;\n  disabled?: boolean;\n\n  /**\n   * The content to be shown on the thumb\n   */\n  thumbChildren?: ComponentType<{ isChecked: boolean }> | ReactNode;\n\n  onChange?: (isChecked: boolean, event: ChangeEvent<HTMLInputElement>) => unknown;\n  onFocus?: (event: FocusEvent<HTMLInputElement>) => unknown;\n  onBlur?: (event: FocusEvent<HTMLInputElement>) => unknown;\n} & Pick<AriaAttributes, 'aria-labelledby'>;\n\nexport function Switch({\n  color,\n  size,\n  className,\n  checked,\n  defaultChecked,\n  disabled,\n  thumbChildren: ThumbChildren,\n  onChange,\n  onBlur,\n  onFocus,\n  ...props\n}: SwitchProps) {\n  const [isFocused, setIsFocused] = useState(false);\n  const [isCheckedInternal, setIsChecked] = useState(defaultChecked);\n  const isChecked = checked ?? isCheckedInternal;\n\n  return (\n    <>\n      {/* eslint-disable-next-line jsx-a11y/no-noninteractive-element-interactions */}\n      <label\n        className={classNames(\n          'switch',\n          {\n            [`switch--${color}`]: color,\n            [`switch--${size}`]: size,\n            'switch--checked': isChecked,\n            'switch--focus': isFocused,\n            'switch--disabled': disabled,\n          },\n          className\n        )}\n        onMouseDown={(event) => {\n          // prevent checkbox blur on repeated clicks\n          event.preventDefault();\n        }}\n      >\n        <input\n          {...props}\n          type=\"checkbox\"\n          className=\"switch__input\"\n          defaultChecked={defaultChecked}\n          checked={checked}\n          disabled={disabled}\n          onChange={(event) => {\n            setIsChecked(event.target.checked);\n            onChange?.(event.target.checked, event);\n          }}\n          onFocus={(event) => {\n            setIsFocused(true);\n            onFocus?.(event);\n          }}\n          onBlur={(event) => {\n            setIsFocused(false);\n            onBlur?.(event);\n          }}\n        />\n\n        <span className=\"switch__thumb\" aria-hidden={true}>\n          {isComponentType(ThumbChildren) ? (\n            <ThumbChildren isChecked={isChecked ?? false} />\n          ) : (\n            ThumbChildren\n          )}\n        </span>\n      </label>\n    </>\n  );\n}\n\nfunction isComponentType<T>(\n  component: ComponentType<T> | ReactNode\n): component is ComponentType<T> {\n  return typeof component === 'function';\n}\n","import { Switch } from '../switch/Switch';\nimport { Sun, Moon } from 'react-feather';\nimport { useTheme } from 'app/core/providers/ThemeProvider';\nimport styles from './ThemeSwitch.module.scss';\nimport VisuallyHidden from '@reach/visually-hidden';\nimport { useTranslation } from 'react-i18next';\nimport { ControlSize } from 'app/core/models/styles.model';\n\nexport function ThemeSwitch() {\n  const { theme, toggleTheme } = useTheme();\n  const { t } = useTranslation();\n\n  return (\n    <>\n      <VisuallyHidden id=\"theme-switch-label\">\n        {t('components.themeSwitch.' + theme)}\n      </VisuallyHidden>\n      <Switch\n        className={styles.switch}\n        aria-labelledby=\"theme-switch-label\"\n        size={ControlSize.Small}\n        checked={theme === 'light'}\n        onChange={toggleTheme}\n        thumbChildren={({ isChecked }) =>\n          isChecked ? <Sun className={styles.icon} /> : <Moon className={styles.icon} />\n        }\n      />\n    </>\n  );\n}\n","import { LoginCard } from './login/LoginCard';\nimport styles from './LoggedOutPage.module.scss';\nimport { LanguageSelect } from 'app/common/components/language-select/LanguageSelect';\nimport { ThemeSwitch } from 'app/common/components/theme-switch/ThemeSwitch';\n\nexport function LoggedOutPage() {\n  return (\n    <div className={styles.backdrop} data-testid=\"logged_out-page\">\n      <LoginCard className={styles.card} />\n\n      <div className={styles.options}>\n        <ThemeSwitch />\n        <LanguageSelect />\n      </div>\n    </div>\n  );\n}\n","import { Button } from 'app/common/components/button/Button';\nimport { authEvents } from 'app/core/auth/authMachine';\nimport { useAuthMachine } from 'app/core/auth/AuthMachineProvider';\nimport { MouseEvent } from 'react';\n\nexport function LoggedInPage() {\n  const [, sendAuthEvent] = useAuthMachine();\n\n  const handleLogout = (event: MouseEvent<HTMLButtonElement>) => {\n    event.preventDefault();\n    sendAuthEvent(authEvents.logout());\n  };\n\n  return (\n    <div data-testid=\"logged_in-page\">\n      <Button type=\"button\" onClick={handleLogout}>\n        Log out\n      </Button>\n    </div>\n  );\n}\n","import { createContext, ReactNode, useContext, useEffect, useState } from 'react';\n\nexport interface HasServiceWorkerUpdateMessage {\n  type: 'HAS_SERVICE_WORKER_UPDATE';\n}\n\nexport interface UpdateServiceWorkerMessage {\n  type: 'UPDATE_SERVICE_WORKER';\n}\n\nexport const ServiceWorkerUpdateContext = createContext<boolean | undefined>(undefined);\n\nexport function ServiceWorkerUpdateProvider({ children }: { children: ReactNode }) {\n  const [hasUpdate, setHasUpdate] = useState(false);\n\n  useEffect(() => {\n    const checkIfUpdated = (message: MessageEvent<any>) => {\n      if (message.data?.type === 'HAS_SERVICE_WORKER_UPDATE') {\n        setHasUpdate(true);\n      }\n    };\n\n    window.addEventListener('message', checkIfUpdated);\n\n    return () => window.removeEventListener('message', checkIfUpdated);\n  }, []);\n\n  return (\n    <ServiceWorkerUpdateContext.Provider value={hasUpdate}>\n      {children}\n    </ServiceWorkerUpdateContext.Provider>\n  );\n}\n\nexport function useServiceWorkerUpdate() {\n  const context = useContext(ServiceWorkerUpdateContext);\n\n  if (context === undefined) {\n    throw new Error('useServiceWorkerUpdateContext must be used within ServiceWorkerUpdateContext');\n  }\n\n  return context;\n}\n","import classNames from 'classnames';\nimport { ButtonHTMLAttributes } from 'react';\nimport { Button, ButtonProps } from '../button/Button';\n\nexport type LinkButtonProps = Omit<ButtonHTMLAttributes<HTMLButtonElement>, 'color'> &\n  Pick<ButtonProps, 'type' | 'size'>;\n\nexport function LinkButton({ className, ...props }: LinkButtonProps) {\n  return <Button {...props} className={classNames('button--link', className)} />;\n}\n","import classNames from 'classnames';\nimport { ButtonHTMLAttributes } from 'react';\nimport { Button, ButtonProps } from '../button/Button';\n\nexport enum IconButtonVariant {\n  Transparent = 'transparent',\n  Filled = 'filled',\n}\n\nexport type IconButtonProps = ButtonHTMLAttributes<HTMLButtonElement> &\n  Pick<ButtonProps, 'type' | 'color' | 'size' | 'isLoading'> & { variant?: IconButtonVariant };\n\nexport function IconButton({\n  className,\n  color,\n  variant = IconButtonVariant.Transparent,\n  ...props\n}: IconButtonProps) {\n  return (\n    <Button\n      {...props}\n      color={IconButtonVariant.Filled ? color : undefined}\n      className={classNames(\n        'button--icon-button',\n        { 'button--transparent': variant === IconButtonVariant.Transparent },\n        className\n      )}\n    />\n  );\n}\n","import VisuallyHidden from '@reach/visually-hidden';\nimport { forwardRef, ReactNode, useState } from 'react';\nimport { X as CloseIcon } from 'react-feather';\nimport { useTranslation } from 'react-i18next';\nimport classNames from 'classnames';\nimport { IconButton } from '../icon-button/IconButton';\nimport { ControlSize } from 'app/core/models/styles.model';\nimport { TFunction } from 'i18next';\nimport { useTimeout } from 'app/common/hooks/useTimeout';\n\nexport interface NotificationProps {\n  className?: string;\n  children: ReactNode;\n\n  /**\n   * Whether to show close button or not\n   */\n  isClosable?: boolean;\n\n  /**\n   * Time in miliseconds before notification is closed.\n   */\n  duration?: number;\n\n  /**\n   * Callback when notification closes\n   */\n  onClose?: () => void;\n}\n\ninterface NotificationCardProps {\n  className?: string;\n  children: ReactNode;\n\n  onMouseLeave: () => void;\n  onMouseEnter: () => void;\n}\n\nexport const Notification = forwardRef<HTMLDivElement, NotificationProps>(function Notification(\n  { className, children, isClosable, duration, onClose },\n  ref\n) {\n  const { t } = useTranslation();\n  const [isHovered, setIsHovered] = useState(false);\n\n  useTimeout(\n    () => {\n      onClose?.();\n    },\n    isHovered ? null : duration\n  );\n\n  const handleMouseEnter = () => setIsHovered(true);\n  const handleMouseLeave = () => setIsHovered(false);\n\n  return (\n    <NotificationCard\n      className={className}\n      ref={ref}\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}\n    >\n      {children}\n\n      {isClosable && <CloseButton t={t} onClose={onClose} />}\n    </NotificationCard>\n  );\n});\n\nconst NotificationCard = forwardRef<HTMLDivElement, NotificationCardProps>(\n  function NotificationCard({ children, className, onMouseEnter, onMouseLeave }, ref) {\n    return (\n      <div\n        className={classNames('notification', className)}\n        role=\"alert\"\n        ref={ref}\n        onMouseEnter={onMouseEnter}\n        onMouseLeave={onMouseLeave}\n      >\n        {children}\n      </div>\n    );\n  }\n);\n\nfunction CloseButton({ t, onClose }: { t: TFunction; onClose?: () => void }) {\n  return (\n    <IconButton className=\"notification__close-button\" size={ControlSize.Small} onClick={onClose}>\n      <VisuallyHidden>{t('actions.close')}</VisuallyHidden>\n      <CloseIcon />\n    </IconButton>\n  );\n}\n","import { useEffect, useRef } from 'react';\n\n/**\n * Sets timeout and clears it on component unmount or timeout change.\n * Does not execute callback if no timeout is provided.\n *\n * @param timeout timeout in ms\n */\nexport function useTimeout(callback: () => any, timeout?: number | null) {\n  const callbackRef = useRef<() => any>(callback);\n  callbackRef.current = callback;\n\n  useEffect(() => {\n    if (typeof timeout === 'number') {\n      const runLatestCallback = () => {\n        callbackRef.current();\n      };\n\n      const timer = setTimeout(runLatestCallback, timeout);\n      return () => clearTimeout(timer);\n    }\n  }, [timeout]);\n}\n","import { useTheme } from 'app/core/providers/ThemeProvider';\nimport classNames from 'classnames';\nimport { useEffect, useMemo, useRef, useState } from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport { Notification } from './Notification';\nimport { NotificationConfig, NotificationPosition } from './notification.types';\nimport styles from './notification.module.scss';\n\ntype NotificationDictionary = Record<NotificationPosition, NotificationConfig[]>;\n\nconst enterDuration = parseFloat(styles.enterAnimationDuration!);\nconst exitDuration = parseFloat(styles.exitAnimationDuration!);\n\nexport function NotificationManager({ notifications }: { notifications: NotificationConfig[] }) {\n  const { theme } = useTheme();\n\n  const groupedNotifications = useMemo(() => {\n    const notificationDictionary = notifications.reduce<NotificationDictionary>(\n      (dictionary, notification) => {\n        if (dictionary[notification.position]) {\n          dictionary[notification.position].push(notification);\n        } else {\n          dictionary[notification.position] = [notification];\n        }\n\n        return dictionary;\n      },\n      {} as NotificationDictionary\n    );\n\n    return Object.entries(notificationDictionary) as Array<\n      [NotificationPosition, NotificationConfig[]]\n    >;\n  }, [notifications]);\n\n  return (\n    <>\n      {groupedNotifications.map(([position, notifications]) => (\n        <ul\n          key={position}\n          id={`notification-manager-${position}`}\n          className={classNames(\n            'notification-manager',\n            `notification-manager--${position}`,\n            `theme--${theme}`\n          )}\n        >\n          {notifications.map((notification) => (\n            <NotificationContainer key={notification.id} {...notification} />\n          ))}\n        </ul>\n      ))}\n    </>\n  );\n}\n\nfunction NotificationContainer({ id, message, position, onClose, ...props }: NotificationConfig) {\n  const [isMounted, setIsMounted] = useState(false);\n\n  const notificationRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => setIsMounted(true), []);\n  const handleClose = () => setIsMounted(false);\n\n  return (\n    <li className=\"notification-container\">\n      <CSSTransition\n        nodeRef={notificationRef}\n        in={isMounted}\n        mountOnEnter={true}\n        unmountOnExit={true}\n        timeout={{\n          enter: enterDuration,\n          exit: exitDuration,\n        }}\n        classNames={{\n          enter: 'notification--enter',\n          exit: 'notification--exit',\n        }}\n        onExited={onClose}\n      >\n        <Notification {...props} ref={notificationRef} onClose={handleClose}>\n          {message}\n        </Notification>\n      </CSSTransition>\n    </li>\n  );\n}\n","import {\n  createContext,\n  ReactNode,\n  useContext,\n  useLayoutEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { createPortal } from 'react-dom';\nimport { NotificationConfig, NotificationId } from './notification.types';\nimport { NotificationManager } from './NotificationManager';\nimport { v4 as uuid } from 'uuid';\nimport { useConfig } from 'app/core/configs/ConfigProvider';\n\ntype NotificationOptions = Pick<NotificationConfig, 'message' | 'duration' | 'isClosable'> &\n  Partial<Pick<NotificationConfig, 'id' | 'position' | 'onClose'>>;\n\ninterface NotificationMethods {\n  open: (options: NotificationOptions) => void;\n  close: (notificationId: NotificationId) => void;\n  closeAll: () => void;\n}\n\nconst NotificationContext = createContext<NotificationMethods | undefined>(undefined);\n\nconst portalId = 'notification-portal';\n\nexport function NotificationProvider({ children }: { children: ReactNode }) {\n  const { constants } = useConfig();\n\n  const notificationsRef = useRef<NotificationConfig[]>([]);\n  const [notifications, setNotifications] = useState<NotificationConfig[]>([]);\n  notificationsRef.current = notifications;\n\n  const notificationActions = useMemo<NotificationMethods>(() => {\n    return {\n      open: ({ position, id, onClose, ...options }) => {\n        const notificationId = id ?? uuid();\n\n        const notification: NotificationConfig = {\n          ...options,\n          id: notificationId,\n          position: position ?? constants.defaultNotificationPosition,\n          onClose: () => {\n            const notificationsToKeep = notificationsRef.current.filter(\n              (notification) => notification.id !== notificationId\n            );\n\n            notificationsRef.current = notificationsToKeep;\n            setNotifications(notificationsToKeep);\n\n            onClose?.();\n          },\n        };\n\n        setNotifications((notifications) => notifications.concat(notification));\n      },\n\n      close: (notificationId) => {\n        const currentNotifications = notificationsRef.current;\n        const notificationsToKeep: NotificationConfig[] = [];\n\n        for (const notification of currentNotifications) {\n          if (notification.id === notificationId) {\n            notification.onClose();\n          } else {\n            notificationsToKeep.push(notification);\n          }\n        }\n\n        notificationsRef.current = notificationsToKeep;\n        setNotifications(notificationsToKeep);\n      },\n\n      closeAll: () => {\n        notificationsRef.current.forEach((notification) => notification.onClose());\n        notificationsRef.current = [];\n        setNotifications([]);\n      },\n    };\n  }, [constants]);\n\n  return (\n    <>\n      <NotificationPortal>\n        <NotificationManager notifications={notifications}></NotificationManager>\n      </NotificationPortal>\n\n      <NotificationContext.Provider value={notificationActions}>\n        {children}\n      </NotificationContext.Provider>\n    </>\n  );\n}\n\nexport function useNotification() {\n  const context = useContext(NotificationContext);\n\n  if (context === undefined) {\n    throw new Error('useNotification must be used within NotificationProvider');\n  }\n\n  return context;\n}\n\nfunction NotificationPortal({ children }: { children: ReactNode }) {\n  const outletElement = useMemo(() => {\n    const element = document.createElement('div');\n    element.id = portalId;\n    return element;\n  }, []);\n\n  useLayoutEffect(() => {\n    document.body.querySelector(`#${portalId}`)?.remove();\n    document.body.appendChild(outletElement);\n  }, [outletElement]);\n\n  return createPortal(children, outletElement);\n}\n","import {\n  UpdateServiceWorkerMessage,\n  useServiceWorkerUpdate,\n} from 'app/core/providers/ServiceWorkerUpdateProvider';\nimport { useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { LinkButton } from '../link-button/LinkButton';\nimport { NotificationPosition } from '../notification/notification.types';\nimport { useNotification } from '../notification/NotificationProvider';\nimport styles from './ServiceWorkerUpdateNotification.module.scss';\n\nexport function useServiceWorkerUpdateNotification() {\n  const hasUpdate = useServiceWorkerUpdate();\n  const notification = useNotification();\n\n  useEffect(() => {\n    if (hasUpdate) {\n      notification.open({\n        message: <ServiceWorkerUpdateMessage />,\n        position: NotificationPosition.Bottom,\n        isClosable: true,\n      });\n    }\n  }, [hasUpdate, notification]);\n}\n\nexport function ServiceWorkerUpdateMessage() {\n  const { t } = useTranslation();\n\n  const handleUpdate = () => {\n    const message: UpdateServiceWorkerMessage = { type: 'UPDATE_SERVICE_WORKER' };\n    window.postMessage(message, '*');\n  };\n\n  return (\n    <>\n      <span>{t('components.serviceWorkerUpdateNotification.message')}</span>\n\n      <LinkButton className={styles.updateButton} onClick={handleUpdate}>\n        {t('actions.update').toUpperCase()}\n      </LinkButton>\n    </>\n  );\n}\n","import { useTranslation } from 'react-i18next';\nimport { Helmet } from 'react-helmet-async';\nimport { memo } from 'react';\nimport { LoggedOutPage } from './logged-out/LoggedOutPage';\nimport { useAuthMachine } from './core/auth/AuthMachineProvider';\nimport { AuthMachineStateValue } from './core/auth/authMachine';\nimport { LoggedInPage } from './logged-in/LoggedInPage';\nimport { useServiceWorkerUpdateNotification } from './common/components/sw-update-notification/ServiceWorkerUpdateNotification';\n\nexport function App() {\n  const { i18n } = useTranslation();\n  const [authState] = useAuthMachine();\n  const isLoggedIn = authState.matches(AuthMachineStateValue.LoggedIn);\n\n  useServiceWorkerUpdateNotification();\n\n  return (\n    <>\n      <Helmet>\n        <html lang={i18n.languages[0]} />\n      </Helmet>\n\n      <AppComponent isLoggedIn={isLoggedIn} />\n    </>\n  );\n}\n\nconst AppComponent = memo(function AppComponent({ isLoggedIn }: { isLoggedIn: boolean }) {\n  return isLoggedIn ? <LoggedInPage /> : <LoggedOutPage />;\n});\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (\n    process.env.NODE_ENV === 'production' &&\n    !process.env.REACT_APP_E2E &&\n    'serviceWorker' in navigator\n  ) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { Profiler, StrictMode, Suspense } from 'react';\nimport ReactDOM from 'react-dom';\nimport 'styles/styles.scss';\nimport { App } from './app/App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\nimport { ConfigProvider } from 'app/core/configs/ConfigProvider';\nimport { I18nProvider } from 'app/core/i18n/I18nProvider';\nimport { GlobalProviders } from 'app/core/providers/GlobalProviders';\nimport { HelmetProvider } from 'react-helmet-async';\nimport { ThemeProvider } from 'app/core/providers/ThemeProvider';\nimport { HasServiceWorkerUpdateMessage } from 'app/core/providers/ServiceWorkerUpdateProvider';\nimport { SetupWorkerApi } from 'msw';\n\nlet registerMockServiceWorker: (() => Promise<void>) | undefined;\n\nif (process.env.NODE_ENV === 'development' && !process.env.REACT_APP_E2E) {\n  // cannot be inside a function otherwise it will not be treeshaken\n  registerMockServiceWorker = async () => {\n    const { worker }: { worker: SetupWorkerApi } = require('mocks/server/browser.mock');\n\n    await worker.start({\n      onUnhandledRequest: 'bypass',\n      serviceWorker: {\n        url: `${process.env.PUBLIC_URL}/mockServiceWorker.js`,\n      },\n    });\n  };\n}\n\nstart();\n\nasync function start() {\n  redirectRoot();\n\n  await registerMockServiceWorker?.();\n\n  render();\n\n  registerServiceWorker();\n\n  // If you want to start measuring performance in your app, pass a function\n  // to log results (for example: reportWebVitals(console.log))\n  // or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n  reportWebVitals();\n}\n\n/**\n * https://github.com/w3c/ServiceWorker/issues/1468\n * due to a problem with service worker implementation when served from subdirectories,\n * setting react homepage property in package.json causes service workers to fail when not using trailing slash\n *\n * does't work -> http://localhost:3000/example\n *\n * works -> http://localhost:3000/example/\n */\nfunction redirectRoot() {\n  if (window.location.pathname === process.env.PUBLIC_URL) {\n    //\n    window.location.pathname = process.env.PUBLIC_URL + '/';\n  }\n}\n\nfunction registerServiceWorker() {\n  serviceWorkerRegistration.register({\n    onUpdate: (registration) => {\n      const waitingRegistration = registration.waiting;\n\n      if (waitingRegistration) {\n        window.addEventListener('message', (message) => {\n          if (message.data?.type === 'UPDATE_SERVICE_WORKER') {\n            waitingRegistration.addEventListener('statechange', () => {\n              if (waitingRegistration.state === 'activated') {\n                window.location.reload();\n              }\n            });\n\n            waitingRegistration.postMessage({ type: 'SKIP_WAITING' });\n          }\n        });\n\n        const message: HasServiceWorkerUpdateMessage = { type: 'HAS_SERVICE_WORKER_UPDATE' };\n        window.postMessage(message);\n      }\n    },\n  });\n}\n\nfunction render() {\n  ReactDOM.render(\n    <StrictMode>\n      <Profiler id=\"App\" onRender={() => {}}>\n        <BrowserRouter basename={process.env.REACT_APP_BASE_PATH}>\n          <HelmetProvider>\n            <ConfigProvider>\n              <I18nProvider>\n                <ThemeProvider>\n                  <GlobalProviders>\n                    <Suspense fallback={<div>Loading...</div>}>\n                      <App />\n                    </Suspense>\n                  </GlobalProviders>\n                </ThemeProvider>\n              </I18nProvider>\n            </ConfigProvider>\n          </HelmetProvider>\n        </BrowserRouter>\n      </Profiler>\n    </StrictMode>,\n    document.getElementById('root')\n  );\n}\n","import { FormatFunction } from 'i18next';\nimport { I18nConfig } from '../configs/i18n.config';\nimport { format as formatDate } from 'date-fns';\n\nexport const getI18nFormatter = (i18nConfig: I18nConfig): FormatFunction => (\n  value,\n  format,\n  language\n) => {\n  if (!language) {\n    return value;\n  }\n\n  if (typeof value === 'number') {\n    return new Intl.NumberFormat(language).format(value);\n  }\n\n  if (!format) {\n    return value;\n  }\n\n  if (value instanceof Date) {\n    const locale = getDateLocale(language, i18nConfig);\n    return formatDate(value, format, { locale });\n  }\n\n  return value;\n};\n\nfunction getDateLocale(language: string, i18nConfig: I18nConfig): Locale {\n  const locale = getLocale(language, i18nConfig);\n  if (locale) {\n    return locale;\n  }\n\n  const localeWithoutCulture = getLocale(language.split('-')[0]!, i18nConfig);\n  if (localeWithoutCulture) {\n    return localeWithoutCulture;\n  }\n\n  return i18nConfig.fallbackDateLocale;\n}\n\nfunction getLocale(language: string, i18nConfig: I18nConfig) {\n  return i18nConfig.dateLocales[language];\n}\n","import { ReactNode, useEffect } from 'react';\nimport i18next from 'i18next';\nimport { I18nextProvider } from 'react-i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport Backend from 'i18next-http-backend';\nimport { initReactI18next } from 'react-i18next';\nimport { useConfig } from '../configs/ConfigProvider';\nimport { getI18nFormatter } from './i18nFormat';\n\nexport function I18nProvider({ children }: { children: ReactNode }) {\n  const { i18nConfig } = useConfig();\n\n  useEffect(() => {\n    /* istanbul ignore next */\n    if (i18next.isInitialized) {\n      return;\n    }\n\n    i18next\n      .use(Backend)\n      .use(LanguageDetector)\n      .use(initReactI18next)\n      .init({\n        fallbackLng: i18nConfig.fallbackLanguage,\n        debug: process.env.NODE_ENV === 'development',\n        detection: {\n          order: ['localStorage', 'navigator', 'path'],\n          lookupLocalStorage: i18nConfig.localStorageKey,\n        },\n        backend: {\n          loadPath: `${process.env.PUBLIC_URL}/locales/{{lng}}/{{ns}}.json`,\n        },\n        interpolation: {\n          escapeValue: false, // not needed for react as it escapes by default\n          format: getI18nFormatter(i18nConfig),\n        },\n      });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return <I18nextProvider i18n={i18next}>{children}</I18nextProvider>;\n}\n","import { NotificationProvider } from 'app/common/components/notification/NotificationProvider';\nimport { ReactNode } from 'react';\nimport { ApiProvider } from '../api/ApiProvider';\nimport { ApiServicesProvider } from '../api/services/ApiServicesProvider';\nimport { AuthMachineProvider } from '../auth/AuthMachineProvider';\nimport { ServiceWorkerUpdateProvider } from './ServiceWorkerUpdateProvider';\n\nexport function GlobalProviders({ children }: { children: ReactNode }) {\n  return (\n    <ServiceWorkerUpdateProvider>\n      <NotificationProvider>\n        <ApiProvider>\n          <ApiServicesProvider>\n            <AuthMachineProvider>{children}</AuthMachineProvider>\n          </ApiServicesProvider>\n        </ApiProvider>\n      </NotificationProvider>\n    </ServiceWorkerUpdateProvider>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"LoginCard_title__2q_gs\",\"theme--dark\":\"LoginCard_theme--dark__16CA9\",\"card\":\"LoginCard_card__1qLR9\",\"form\":\"LoginCard_form__o7IpP\",\"field\":\"LoginCard_field__qpSKM\",\"error\":\"LoginCard_error__AC9Fi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"LoggedOutPage_title__35hi6\",\"theme--dark\":\"LoggedOutPage_theme--dark__12GP2\",\"backdrop\":\"LoggedOutPage_backdrop__3mVlB\",\"theme--light\":\"LoggedOutPage_theme--light__3tzh8\",\"card\":\"LoggedOutPage_card__CjSzL\",\"options\":\"LoggedOutPage_options__33jHr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"switch\":\"ThemeSwitch_switch__2tGCP\",\"theme--light\":\"ThemeSwitch_theme--light__19bMb\",\"theme--dark\":\"ThemeSwitch_theme--dark__1xX10\",\"icon\":\"ThemeSwitch_icon__3sjmS\"};"],"sourceRoot":""}